!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function m(){return p("")}function h(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function b(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function k(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function x(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}t.selectedIndex=-1}function _(t){const e={};for(const n of t)e[n.name]=n.value;return e}let C;function P(t){C=t}function E(){if(!C)throw new Error("Function called outside component initialization");return C}function N(){const t=E();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const r=function(t,e,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,!1,e),l}(e,n);l.slice().forEach((e=>{e.call(t,r)}))}}}function O(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const I=[],R=[],A=[],M=[],T=Promise.resolve();let D=!1;function V(t){A.push(t)}let L=!1;const S=new Set;function j(){if(!L){L=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];P(e),H(e.$$)}for(P(null),I.length=0;R.length;)R.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];S.has(e)||(S.add(e),e())}A.length=0}while(I.length);for(;M.length;)M.pop()();D=!1,L=!1,S.clear()}}function H(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const K=new Set;let z,B;function F(){z={r:0,c:[],p:z}}function U(){z.r||l(z.c),z=z.p}function X(t,e){t&&t.i&&(K.delete(t),t.i(e))}function q(t,e,n,l){if(t&&t.o){if(K.has(t))return;K.add(t),z.c.push((()=>{K.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}function G(t,e){const n=e.token={};function l(t,l,r,o){if(e.token!==n)return;e.resolved=o;let i=e.ctx;void 0!==r&&(i=i.slice(),i[r]=o);const s=t&&(e.current=t)(i);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==l&&t&&(F(),q(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),U())})):e.block.d(1),s.c(),X(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[l]=s),c&&j()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=E();if(t.then((t=>{P(n),l(e.then,1,e.value,t),P(null)}),(t=>{if(P(n),l(e.catch,2,e.error,t),P(null),!e.hasCatch)throw t})),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}var r}function W(t,e,n){const l=e.slice(),{resolved:r}=t;t.current===t.then&&(l[t.value]=r),t.current===t.catch&&(l[t.error]=r),t.block.p(l,n)}function Y(t,e){t.d(1),e.delete(t.key)}function J(t,e,n,l,r,o,i,s,c,a,d,u){let p=t.length,f=o.length,m=p;const h={};for(;m--;)h[t[m].key]=m;const b=[],g=new Map,$=new Map;for(m=f;m--;){const t=u(r,o,m),s=n(t);let c=i.get(s);c?l&&c.p(t,e):(c=a(s,t),c.c()),g.set(s,b[m]=c),s in h&&$.set(s,Math.abs(m-h[s]))}const v=new Set,y=new Set;function w(t){X(t,1),t.m(s,d),i.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=b[f-1],n=t[p-1],l=e.key,r=n.key;e===n?(d=e.first,p--,f--):g.has(r)?!i.has(l)||v.has(l)?w(e):y.has(r)?p--:$.get(l)>$.get(r)?(y.add(l),w(e)):(v.add(r),p--):(c(n,i),p--)}for(;p--;){const e=t[p];g.has(e.key)||c(e,i)}for(;f;)w(b[f-1]);return b}function Q(t){t&&t.c()}function Z(t,n,o,i){const{fragment:s,on_mount:c,on_destroy:a,after_update:d}=t.$$;s&&s.m(n,o),i||V((()=>{const n=c.map(e).filter(r);a?a.push(...n):l(n),t.$$.on_mount=[]})),d.forEach(V)}function tt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(I.push(t),D||(D=!0,T.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,r,o,i,s,c,d,u=[-1]){const p=C;P(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=o?o(e,r.props||{},((t,n,...l)=>{const r=l.length?l[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),m&&et(e,t)),n})):[],f.update(),m=!0,l(f.before_update),f.fragment=!!i&&i(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(a)}else f.fragment&&f.fragment.c();r.intro&&X(e.$$.fragment),Z(e,r.target,r.anchor,r.customElement),j()}P(p)}var lt,rt,ot,it;"function"==typeof HTMLElement&&(B=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const{HTTPMessageBusClient:st}=null!==(rt=null===(lt=window.configs)||void 0===lt?void 0:lt.client)&&void 0!==rt?rt:{},{GridClient:ct}=null!==(it=null===(ot=window.configs)||void 0===ot?void 0:ot.grid3_client)&&void 0!==it?it:{};class at{constructor(t){this.grid=t}_loadK8s(t){return new Promise((e=>{this.grid.k8s.getObj(t).then((n=>{if(0===n.masters.length)return e(null);e({name:t,master:n.masters[0],workers:n.workers.length,details:n})})).catch((()=>e(null)))}))}loadK8s(){return this.grid.k8s.list().then((t=>Promise.all(t.map((t=>this._loadK8s(t)))))).then((t=>t.filter((t=>!1===[null,void 0].includes(t)))))}_loadVm(t){return new Promise((e=>{this.grid.machines.getObj(t).then((([n])=>{var l,r;return e({name:t,publicIp:null!==(r=null===(l=n.publicIP)||void 0===l?void 0:l.ip)&&void 0!==r?r:"None",yggIP:n.yggIP,flist:n.flist,details:n})})).catch((()=>e(null)))}))}loadVm(){return this.grid.machines.list().then((t=>(console.log("names: "+t),Promise.all(t.map((t=>this._loadVm(t))))))).then((t=>(console.log(t),t.filter((t=>!1===[null,void 0].includes(t))))))}loadCaprover(){return this.loadVm().then((t=>t.filter((t=>t.name.startsWith("caprover_leader")))))}static async init(t){const{mnemonics:e,networkEnv:n,storeSecret:l}=t,r=new st(0,""),o=new ct(n,e,l,r,"","tfkvstore");return await o.connect(),new at(o)}}var dt,ut,pt,ft;const{GridClient:mt}=null!==(ut=null===(dt=window.configs)||void 0===dt?void 0:dt.grid3_client)&&void 0!==ut?ut:{},{HTTPMessageBusClient:ht}=null!==(ft=null===(pt=window.configs)||void 0===pt?void 0:pt.client)&&void 0!==ft?ft:{};function bt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function gt(t){let e,n=[],l=new Map,r=t[1];const o=t=>t[6].label;for(let e=0;e<r.length;e+=1){let i=bt(t,r,e),s=o(i);l.set(s,n[e]=vt(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=m()},m(t,l){for(let e=0;e<n.length;e+=1)n[e].m(t,l);c(t,e,l)},p(t,i){11&i&&(r=t[1],n=J(n,i,o,1,t,r,l,e.parentNode,Y,vt,e,bt))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&a(e)}}}function $t(t){let e,n,l;return{c(){e=u("button"),$(e,"class","ml-2 is-small delete")},m(o,i){c(o,e,i),n||(l=h(e,"click",g(b((function(){r(t[3](t[8]))&&t[3](t[8]).apply(this,arguments)})))),n=!0)},p(e,n){t=e},d(t){t&&a(e),n=!1,l()}}}function vt(t,e){let n,l,r,o,i,d,m,g,v,w=e[6].label+"",k=e[6].removable&&$t(e);function x(){return e[4](e[6])}return{key:t,first:null,c(){n=u("li"),l=u("a"),r=u("span"),o=p(w),i=f(),k&&k.c(),d=f(),$(l,"href","#!"),$(n,"class",m=e[0]===e[6].value?"is-active":""),this.first=n},m(t,e){c(t,n,e),s(n,l),s(l,r),s(r,o),s(l,i),k&&k.m(l,null),s(n,d),g||(v=h(l,"click",b(x)),g=!0)},p(t,r){e=t,2&r&&w!==(w=e[6].label+"")&&y(o,w),e[6].removable?k?k.p(e,r):(k=$t(e),k.c(),k.m(l,null)):k&&(k.d(1),k=null),3&r&&m!==(m=e[0]===e[6].value?"is-active":"")&&$(n,"class",m)},d(t){t&&a(n),k&&k.d(),g=!1,v()}}}function yt(e){let n,l,r,o=e[1]&&gt(e);return{c(){n=u("div"),l=u("ul"),o&&o.c(),this.c=t,$(n,"class",r="tabs "+(e[2]?"is-centered":""))},m(t,e){c(t,n,e),s(n,l),o&&o.m(l,null)},p(t,[e]){t[1]?o?o.p(t,e):(o=gt(t),o.c(),o.m(l,null)):o&&(o.d(1),o=null),4&e&&r!==(r="tabs "+(t[2]?"is-centered":""))&&$(n,"class",r)},i:t,o:t,d(t){t&&a(n),o&&o.d()}}}function wt(t,e,n){const l=N();let{tabs:r}=e,{active:o}=e,{centered:i=!0}=e;return t.$$set=t=>{"tabs"in t&&n(1,r=t.tabs),"active"in t&&n(0,o=t.active),"centered"in t&&n(2,i=t.centered)},[o,r,i,t=>()=>l("removed",t),t=>n(0,o=t.value)]}class kt extends B{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");</style>',nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},wt,yt,o,{tabs:1,active:0,centered:2},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["tabs","active","centered"]}get tabs(){return this.$$.ctx[1]}set tabs(t){this.$$set({tabs:t}),j()}get active(){return this.$$.ctx[0]}set active(t){this.$$set({active:t}),j()}get centered(){return this.$$.ctx[2]}set centered(t){this.$$set({centered:t}),j()}}var xt;customElements.define("tf-tabs",kt);var _t=new Uint8Array(16);function Ct(){if(!xt&&!(xt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xt(_t)}var Pt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Et(t){return"string"==typeof t&&Pt.test(t)}for(var Nt=[],Ot=0;Ot<256;++Ot)Nt.push((Ot+256).toString(16).substr(1));function It(t,e,n){var l=(t=t||{}).random||(t.rng||Ct)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=l[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Nt[t[e+0]]+Nt[t[e+1]]+Nt[t[e+2]]+Nt[t[e+3]]+"-"+Nt[t[e+4]]+Nt[t[e+5]]+"-"+Nt[t[e+6]]+Nt[t[e+7]]+"-"+Nt[t[e+8]]+Nt[t[e+9]]+"-"+Nt[t[e+10]]+Nt[t[e+11]]+Nt[t[e+12]]+Nt[t[e+13]]+Nt[t[e+14]]+Nt[t[e+15]]).toLowerCase();if(!Et(n))throw TypeError("Stringified UUID is invalid");return n}(l)}function Rt(t,e,n){const l=t.slice();return l[19]=e[n],l}function At(t){let e,n,l;function r(t,e){return null==n&&(n=!!t[3]()),n?Dt:"checkbox"===t[1].type?Tt:"select"===t[1].type?Mt:void 0}let o=r(t),i=o&&o(t),d=t[1].tooltip&&Ft(t);return{c(){e=u("div"),i&&i.c(),l=f(),d&&d.c(),$(e,"class","tooltip mb-2")},m(t,n){c(t,e,n),i&&i.m(e,null),s(e,l),d&&d.m(e,null)},p(t,n){o===(o=r(t))&&i?i.p(t,n):(i&&i.d(1),i=o&&o(t),i&&(i.c(),i.m(e,l))),t[1].tooltip?d?d.p(t,n):(d=Ft(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(t){t&&a(e),i&&i.d(),d&&d.d()}}}function Mt(t){let e,n,r,o,i,d,p,m,b=[],g=new Map,v=t[1].label&&Vt(t),y=t[1].options;const w=t=>t[19].value;for(let e=0;e<y.length;e+=1){let n=Rt(t,y,e),l=w(n);g.set(l,b[e]=Lt(l,n))}let _=t[1].error&&St(t);return{c(){v&&v.c(),e=f(),n=u("div"),r=u("select");for(let t=0;t<b.length;t+=1)b[t].c();i=f(),_&&_.c(),r.disabled=o=t[1].disabled,k(r,"width","100%"),void 0===t[0]&&V((()=>t[17].call(r))),$(n,"class",d="select mb-2"+(t[1].error?" is-danger":"")),k(n,"width","100%"),$(n,"id",t[2])},m(l,o){v&&v.m(l,o),c(l,e,o),c(l,n,o),s(n,r);for(let t=0;t<b.length;t+=1)b[t].m(r,null);x(r,t[0]),s(n,i),_&&_.m(n,null),p||(m=[h(r,"change",t[17]),h(r,"change",t[4])],p=!0)},p(t,l){t[1].label?v?v.p(t,l):(v=Vt(t),v.c(),v.m(e.parentNode,e)):v&&(v.d(1),v=null),2&l&&(y=t[1].options,b=J(b,l,w,1,t,y,g,r,Y,Lt,null,Rt)),2&l&&o!==(o=t[1].disabled)&&(r.disabled=o),3&l&&x(r,t[0]),t[1].error?_?_.p(t,l):(_=St(t),_.c(),_.m(n,null)):_&&(_.d(1),_=null),2&l&&d!==(d="select mb-2"+(t[1].error?" is-danger":""))&&$(n,"class",d)},d(t){v&&v.d(t),t&&a(e),t&&a(n);for(let t=0;t<b.length;t+=1)b[t].d();_&&_.d(),p=!1,l(m)}}}function Tt(t){let e,n,r,o,i,d,m,b,g,v,w,x=t[1].label+"";return{c(){e=u("div"),n=u("label"),r=u("input"),i=f(),d=u("span"),m=f(),b=u("label"),g=p(x),$(r,"class","switch__input"),$(r,"type","checkbox"),$(r,"id",t[2]),r.disabled=o=t[1].disabled,$(d,"class","slider"),$(n,"class","switch"),$(b,"for",t[2]),$(b,"class","label ml-2"),k(b,"cursor","pointer"),k(e,"display","flex"),k(e,"align-items","center"),$(e,"class","mb-2")},m(l,o){c(l,e,o),s(e,n),s(n,r),r.checked=t[0],s(n,i),s(n,d),s(e,m),s(e,b),s(b,g),v||(w=[h(r,"change",t[16]),h(r,"input",t[11])],v=!0)},p(t,e){2&e&&o!==(o=t[1].disabled)&&(r.disabled=o),3&e&&(r.checked=t[0]),2&e&&x!==(x=t[1].label+"")&&y(g,x)},d(t){t&&a(e),v=!1,l(w)}}}function Dt(t){let e,n,l,r,o,i,d=t[1].label+"";function m(t,e){return"textarea"===t[1].type?zt:"text"===t[1].type?Kt:"number"===t[1].type?Ht:"password"===t[1].type?jt:void 0}let h=m(t),b=h&&h(t),g=t[1].error&&Bt(t);return{c(){e=u("div"),n=u("p"),l=p(d),r=f(),o=u("div"),b&&b.c(),i=f(),g&&g.c(),$(n,"class","label"),$(o,"class","control"),$(e,"class","field"),$(e,"id",t[2])},m(t,a){c(t,e,a),s(e,n),s(n,l),s(e,r),s(e,o),b&&b.m(o,null),s(e,i),g&&g.m(e,null)},p(t,n){2&n&&d!==(d=t[1].label+"")&&y(l,d),h===(h=m(t))&&b?b.p(t,n):(b&&b.d(1),b=h&&h(t),b&&(b.c(),b.m(o,null))),t[1].error?g?g.p(t,n):(g=Bt(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(t){t&&a(e),b&&b.d(),g&&g.d()}}}function Vt(t){let e,n,l=t[1].label+"";return{c(){e=u("p"),n=p(l),$(e,"class","label")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].label+"")&&y(n,l)},d(t){t&&a(e)}}}function Lt(t,e){let n,l,r,o,i,d,m=e[19].label+"";return{key:t,first:null,c(){n=u("option"),l=p(m),r=f(),n.__value=o=e[19].value,n.value=n.__value,n.selected=i=e[19].selected,n.disabled=d=e[19].disabled,this.first=n},m(t,e){c(t,n,e),s(n,l),s(n,r)},p(t,r){e=t,2&r&&m!==(m=e[19].label+"")&&y(l,m),2&r&&o!==(o=e[19].value)&&(n.__value=o,n.value=n.__value),2&r&&i!==(i=e[19].selected)&&(n.selected=i),2&r&&d!==(d=e[19].disabled)&&(n.disabled=d)},d(t){t&&a(n)}}}function St(t){let e,n,l=t[1].error+"";return{c(){e=u("p"),n=p(l),$(e,"class","help is-danger")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].error+"")&&y(n,l)},d(t){t&&a(e)}}}function jt(t){let e,n,r,o,i,s;return{c(){e=u("input"),$(e,"type","password"),$(e,"class",n="input"+(t[1].error?" is-danger":"")),$(e,"placeholder",r=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(s=[h(e,"input",t[15]),h(e,"input",t[10])],i=!0)},p(t,l){2&l&&n!==(n="input"+(t[1].error?" is-danger":""))&&$(e,"class",n),2&l&&r!==(r=t[1].placeholder)&&$(e,"placeholder",r),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&e.value!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(s)}}}function Ht(t){let e,n,r,o,i,s;return{c(){e=u("input"),$(e,"type","number"),$(e,"class",n="input"+(t[1].error?" is-danger":"")),$(e,"placeholder",r=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(s=[h(e,"input",t[14]),h(e,"input",t[9])],i=!0)},p(t,l){2&l&&n!==(n="input"+(t[1].error?" is-danger":""))&&$(e,"class",n),2&l&&r!==(r=t[1].placeholder)&&$(e,"placeholder",r),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&v(e.value)!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(s)}}}function Kt(t){let e,n,r,o,i,s;return{c(){e=u("input"),$(e,"type","text"),$(e,"class",n="input"+(t[1].error?" is-danger":"")),$(e,"placeholder",r=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(s=[h(e,"input",t[13]),h(e,"input",t[8])],i=!0)},p(t,l){2&l&&n!==(n="input"+(t[1].error?" is-danger":""))&&$(e,"class",n),2&l&&r!==(r=t[1].placeholder)&&$(e,"placeholder",r),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&e.value!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(s)}}}function zt(t){let e,n,r,o,i,s;return{c(){e=u("textarea"),$(e,"class",n="textarea"+(t[1].error?" is-danger":"")),$(e,"placeholder",r=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(s=[h(e,"input",t[12]),h(e,"input",t[7])],i=!0)},p(t,l){2&l&&n!==(n="textarea"+(t[1].error?" is-danger":""))&&$(e,"class",n),2&l&&r!==(r=t[1].placeholder)&&$(e,"placeholder",r),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&w(e,t[0])},d(t){t&&a(e),i=!1,l(s)}}}function Bt(t){let e,n,l=t[1].error+"";return{c(){e=u("p"),n=p(l),$(e,"class","help is-danger")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].error+"")&&y(n,l)},d(t){t&&a(e)}}}function Ft(t){let e,n,l=t[1].tooltip+"";return{c(){e=u("span"),n=p(l),$(e,"class","tooltip__text")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].tooltip+"")&&y(n,l)},d(t){t&&a(e)}}}function Ut(e){let n,l,r,o=e[1]&&At(e);return{c(){n=u("div"),l=f(),o&&o.c(),r=m(),this.c=t},m(t,i){c(t,n,i),n.innerHTML=e[5],c(t,l,i),o&&o.m(t,i),c(t,r,i)},p(t,[e]){t[1]?o?o.p(t,e):(o=At(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&a(n),t&&a(l),o&&o.d(t),t&&a(r)}}}function Xt(t,e,n){const l=N();let{field:r}=e,{data:o}=e,{selected:i=0}=e;const s=It();return t.$$set=t=>{"field"in t&&n(1,r=t.field),"data"in t&&n(0,o=t.data),"selected"in t&&n(6,i=t.selected)},[o,r,s,()=>["text","number","password","textarea"].includes(r.type),function(t){l("input");const e=t.target;n(6,i=e.selectedIndex)},'\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n  }\n\n  .switch .switch__input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 34px;\n  }\n\n  .slider:before {\n    position: absolute;\n    content: "";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 50%;\n  }\n\n  .switch__input:checked + .slider {\n    background-color: #2196f3;\n  }\n\n  .switch__input:checked + .slider {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  .switch__input:checked + .slider:before {\n    -webkit-transform: translateX(26px);\n    -ms-transform: translateX(26px);\n    transform: translateX(26px);\n  }\n\n  .tooltip {\n    position: relative;\n  }\n\n  .tooltip__text {\n    position: absolute;\n    top: -20px;\n    left: 50%;\n    padding: 10px 15px;\n    border-radius: 5px;\n    background-color: rgba(51, 51, 51, 0.9);\n    color: white;\n    z-index: 9;\n    max-width: min(1000px, calc(100% - 30px));\n    display: block;\n\n    transition-property: opacity, transform, visibility;\n    transition-timing-function: ease;\n    transition-duration: 300ms;\n    pointer-events: none;\n    opacity: 0;\n    visibility: hidden;\n    transform: translateX(-50%) translateY(20px) scale(0);\n  }\n\n  .tooltip:hover > .tooltip__text {\n    pointer-events: all;\n    opacity: 1;\n    visibility: visible;\n    transform: translateX(-50%) translateY(0) scale(1);\n  }\n</style>\n',i,function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(){o=this.value,n(0,o),n(1,r)},function(){o=this.value,n(0,o),n(1,r)},function(){o=v(this.value),n(0,o),n(1,r)},function(){o=this.value,n(0,o),n(1,r)},function(){o=this.checked,n(0,o),n(1,r)},function(){o=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,o),n(1,r)}]}class qt extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Xt,Ut,o,{field:1,data:0,selected:6},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["field","data","selected"]}get field(){return this.$$.ctx[1]}set field(t){this.$$set({field:t}),j()}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),j()}get selected(){return this.$$.ctx[6]}set selected(t){this.$$set({selected:t}),j()}}function Gt(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Wt(t,e,n){const l=t.slice();return l[14]=e[n],l}function Yt(t){let e,n;return e=new qt({props:{data:t[11].yggIP,field:t[3]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[11].yggIP),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Jt(t){let e,n;return e=new qt({props:{data:t[14].size,field:{label:`Disk(${t[14].mountPoint})`,symbol:"size",type:"number",disabled:!0}}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[14].size),1&n&&(l.field={label:`Disk(${t[14].mountPoint})`,symbol:"size",type:"number",disabled:!0}),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Qt(t){let e,n;return e=new qt({props:{data:t[11].flist,field:t[8]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[11].flist),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Zt(t){let e,n;return e=new qt({props:{data:"http://captain."+t[11].env.CAPROVER_ROOT_DOMAIN,field:t[9]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data="http://captain."+t[11].env.CAPROVER_ROOT_DOMAIN),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function te(t){let e;return{c(){e=u("hr")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function ee(t){let e,n,l,r,o,i,s,u,p,h,b,g,$,v,y,w,k,x;e=new qt({props:{data:t[11].name,field:t[1]}}),l=new qt({props:{data:!!t[11].publicIP,field:t[2]}});let _=t[11].planetary&&Yt(t);i=new qt({props:{data:t[11].interfaces[0].network,field:t[4]}}),u=new qt({props:{data:t[11].capacity.cpu,field:t[5]}}),h=new qt({props:{data:t[11].capacity.memory,field:t[6]}});let C=t[11].mounts,P=[];for(let e=0;e<C.length;e+=1)P[e]=Jt(Wt(t,C,e));const E=t=>q(P[t],1,1,(()=>{P[t]=null}));$=new qt({props:{data:t[11].interfaces[0].ip,field:t[7]}});let N=t[11].flist&&Qt(t),O=t[11].env.CAPROVER_ROOT_DOMAIN&&Zt(t),I=t[13]+1!==t[0].length&&te();return{c(){Q(e.$$.fragment),n=f(),Q(l.$$.fragment),r=f(),_&&_.c(),o=f(),Q(i.$$.fragment),s=f(),Q(u.$$.fragment),p=f(),Q(h.$$.fragment),b=f();for(let t=0;t<P.length;t+=1)P[t].c();g=f(),Q($.$$.fragment),v=f(),N&&N.c(),y=f(),O&&O.c(),w=f(),I&&I.c(),k=m()},m(t,a){Z(e,t,a),c(t,n,a),Z(l,t,a),c(t,r,a),_&&_.m(t,a),c(t,o,a),Z(i,t,a),c(t,s,a),Z(u,t,a),c(t,p,a),Z(h,t,a),c(t,b,a);for(let e=0;e<P.length;e+=1)P[e].m(t,a);c(t,g,a),Z($,t,a),c(t,v,a),N&&N.m(t,a),c(t,y,a),O&&O.m(t,a),c(t,w,a),I&&I.m(t,a),c(t,k,a),x=!0},p(t,n){const r={};1&n&&(r.data=t[11].name),e.$set(r);const s={};1&n&&(s.data=!!t[11].publicIP),l.$set(s),t[11].planetary?_?(_.p(t,n),1&n&&X(_,1)):(_=Yt(t),_.c(),X(_,1),_.m(o.parentNode,o)):_&&(F(),q(_,1,1,(()=>{_=null})),U());const c={};1&n&&(c.data=t[11].interfaces[0].network),i.$set(c);const a={};1&n&&(a.data=t[11].capacity.cpu),u.$set(a);const d={};if(1&n&&(d.data=t[11].capacity.memory),h.$set(d),1&n){let e;for(C=t[11].mounts,e=0;e<C.length;e+=1){const l=Wt(t,C,e);P[e]?(P[e].p(l,n),X(P[e],1)):(P[e]=Jt(l),P[e].c(),X(P[e],1),P[e].m(g.parentNode,g))}for(F(),e=C.length;e<P.length;e+=1)E(e);U()}const p={};1&n&&(p.data=t[11].interfaces[0].ip),$.$set(p),t[11].flist?N?(N.p(t,n),1&n&&X(N,1)):(N=Qt(t),N.c(),X(N,1),N.m(y.parentNode,y)):N&&(F(),q(N,1,1,(()=>{N=null})),U()),t[11].env.CAPROVER_ROOT_DOMAIN?O?(O.p(t,n),1&n&&X(O,1)):(O=Zt(t),O.c(),X(O,1),O.m(w.parentNode,w)):O&&(F(),q(O,1,1,(()=>{O=null})),U()),t[13]+1!==t[0].length?I||(I=te(),I.c(),I.m(k.parentNode,k)):I&&(I.d(1),I=null)},i(t){if(!x){X(e.$$.fragment,t),X(l.$$.fragment,t),X(_),X(i.$$.fragment,t),X(u.$$.fragment,t),X(h.$$.fragment,t);for(let t=0;t<C.length;t+=1)X(P[t]);X($.$$.fragment,t),X(N),X(O),x=!0}},o(t){q(e.$$.fragment,t),q(l.$$.fragment,t),q(_),q(i.$$.fragment,t),q(u.$$.fragment,t),q(h.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)q(P[t]);q($.$$.fragment,t),q(N),q(O),x=!1},d(t){tt(e,t),t&&a(n),tt(l,t),t&&a(r),_&&_.d(t),t&&a(o),tt(i,t),t&&a(s),tt(u,t),t&&a(p),tt(h,t),t&&a(b),d(P,t),t&&a(g),tt($,t),t&&a(v),N&&N.d(t),t&&a(y),O&&O.d(t),t&&a(w),I&&I.d(t),t&&a(k)}}}function ne(e){let n,l,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=ee(Gt(e,r,t));const i=t=>q(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=m(),this.c=t},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);c(t,n,e),l=!0},p(t,[e]){if(1023&e){let l;for(r=t[0],l=0;l<r.length;l+=1){const i=Gt(t,r,l);o[l]?(o[l].p(i,e),X(o[l],1)):(o[l]=ee(i),o[l].c(),X(o[l],1),o[l].m(n.parentNode,n))}for(F(),l=r.length;l<o.length;l+=1)i(l);U()}},i(t){if(!l){for(let t=0;t<r.length;t+=1)X(o[t]);l=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)q(o[t]);l=!1},d(t){d(o,t),t&&a(n)}}}function le(t,e,n){let{data:l}=e,r=[];return t.$$set=t=>{"data"in t&&n(10,l=t.data)},t.$$.update=()=>{1024&t.$$.dirty&&l&&n(0,r=l.masters?[l.masters[0],...l.workers]:[l])},[r,{label:"Name",symbol:"name",type:"text",disabled:!0},{label:"Public IP",symbol:"publicIP",type:"checkbox",disabled:!0},{label:"\tPlanetary Network IP",symbol:"yggIP",type:"text",disabled:!0},{label:"Network Name",symbol:"network",type:"text",disabled:!0},{label:"CPU",symbol:"cpu",type:"number",disabled:!0},{label:"Memory",symbol:"memory",type:"number",disabled:!0},{label:"WireGuard",symbol:"wireguard",type:"text",disabled:!0},{label:"Flist",symbol:"flist",type:"text",disabled:!0},{label:"Domain",symbol:"domain",type:"text",disabled:!0,tooltip:"Default Password: captain42"},l]}customElements.define("tf-input",qt);class re extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},le,ne,o,{data:10},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["data"]}get data(){return this.$$.ctx[10]}set data(t){this.$$set({data:t}),j()}}function oe(e){let n,l,r,o,i,d,m,b,g;return{c(){n=u("div"),l=p(e[2]),r=f(),o=u("hr"),i=f(),d=u("div"),m=u("button"),m.textContent="Copy",$(n,"class","json"),$(m,"class","button is-primary"),$(d,"class","is-flex is-justify-content-flex-end")},m(t,a){c(t,n,a),s(n,l),c(t,r,a),c(t,o,a),c(t,i,a),c(t,d,a),s(d,m),b||(g=h(m,"click",e[9]),b=!0)},p(t,e){4&e&&y(l,t[2])},i:t,o:t,d(t){t&&a(n),t&&a(r),t&&a(o),t&&a(i),t&&a(d),b=!1,g()}}}function ie(t){let e,n;return e=new re({props:{data:t[0]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[0]),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function se(e){let n,r,o,i,d,p,m,v,y,w,k,x,_,C,P,E,N,O;function I(t){e[8](t)}let A={tabs:e[4]};void 0!==e[1]&&(A.active=e[1]),v=new kt({props:A}),R.push((()=>function(t,e,n){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}(v,"active",I)));const T=[ie,oe],D=[];function V(t,e){return"details"===t[1]?0:"json"===t[1]?1:-1}return~(x=V(e))&&(_=D[x]=T[x](e)),{c(){n=u("div"),r=f(),o=u("div"),i=u("div"),d=f(),p=u("div"),m=u("div"),Q(v.$$.fragment),w=f(),k=u("section"),_&&_.c(),C=f(),P=u("button"),this.c=t,$(i,"class","modal-background"),$(k,"class","content"),$(m,"class","box"),$(p,"class","modal-content"),$(P,"class","modal-close is-large"),$(P,"aria-label","close"),$(o,"class","modal is-active")},m(t,l){c(t,n,l),n.innerHTML=e[5],c(t,r,l),c(t,o,l),s(o,i),s(o,d),s(o,p),s(p,m),Z(v,m,null),s(m,w),s(m,k),~x&&D[x].m(k,null),s(o,C),s(o,P),E=!0,N||(O=[h(i,"click",b(e[7])),h(p,"click",g(e[6])),h(P,"click",b(e[10]))],N=!0)},p(t,[e]){const n={};var l;!y&&2&e&&(y=!0,n.active=t[1],l=()=>y=!1,M.push(l)),v.$set(n);let r=x;x=V(t),x===r?~x&&D[x].p(t,e):(_&&(F(),q(D[r],1,1,(()=>{D[r]=null})),U()),~x?(_=D[x],_?_.p(t,e):(_=D[x]=T[x](t),_.c()),X(_,1),_.m(k,null)):_=null)},i(t){E||(X(v.$$.fragment,t),X(_),E=!0)},o(t){q(v.$$.fragment,t),q(_),E=!1},d(t){t&&a(n),t&&a(r),t&&a(o),tt(v),~x&&D[x].d(),N=!1,l(O)}}}function ce(t,e,n){let l;const r=N();let o="details",{data:i}=e;return t.$$set=t=>{"data"in t&&n(0,i=t.data)},t.$$.update=()=>{1&t.$$.dirty&&n(2,l=i?JSON.stringify(i,void 0,4):"")},[i,o,l,r,[{label:"Details",value:"details"},{label:"JSON",value:"json"}],"\n<style>\n  .modal-content {\n    width: calc(100% - 30px);\n    max-height: 70vh;\n    transform: translateY(30px);\n    background-color: white;\n  }\n\n  .modal-content::-webkit-scrollbar-thumb {\n    background-color: #d3d3d3;\n  }\n  \n  .modal-content::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  .content {\n    overflow-x: hidden;\n    overflow-y: auto;\n    background-color: #fff;\n  }\n\n  .modal-content > div,\n  .content {\n    width: 100%;\n  }\n\n  .json {\n    white-space: pre-wrap;\n  }\n</style>\n",function(e){O.call(this,t,e)},()=>r("closed"),function(t){o=t,n(1,o)},()=>function(t){const e=document.createElement("textarea");e.value=t,e.style.display="block",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),e.remove()}(l),()=>r("closed")]}customElements.define("tf-format-data",re);class ae extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ce,se,o,{data:0},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["data"]}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),j()}}function de(t,e,n){const l=t.slice();return l[31]=e[n],l[29]=n,l}function ue(t,e,n){const l=t.slice();return l[31]=e[n],l[29]=n,l}function pe(t,e,n){const l=t.slice();return l[0]=e[n],l}function fe(t,e,n){const l=t.slice();return l[8]=e[n],l[29]=n,l}function me(t){let e,n,l,r=t[0].toLocaleUpperCase()+"";return{c(){e=p("("),n=p(r),l=p(")")},m(t,r){c(t,e,r),c(t,n,r),c(t,l,r)},p(t,e){1&e[0]&&r!==(r=t[0].toLocaleUpperCase()+"")&&y(n,r)},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function he(t){let e,n,l,r,o,i,d,p,b=!t[0]&&$e(t),g=(!t[0]&&"Kubernetes"===t[1]||"k8s"===t[0])&&ye(t),v=("Virtual Machines"===t[1]||"Caprover"===t[1]||"caprover"===t[0]||"vm"===t[0])&&Ae(t);return{c(){e=u("div"),n=u("button"),n.textContent="Back",l=f(),b&&b.c(),r=f(),g&&g.c(),o=f(),v&&v.c(),i=m(),$(n,"class","button is-primary is-outlined mr-2"),k(e,"display","flex")},m(a,u){c(a,e,u),s(e,n),s(e,l),b&&b.m(e,null),c(a,r,u),g&&g.m(a,u),c(a,o,u),v&&v.m(a,u),c(a,i,u),d||(p=h(n,"click",t[16]),d=!0)},p(t,n){t[0]?b&&(b.d(1),b=null):b?b.p(t,n):(b=$e(t),b.c(),b.m(e,null)),!t[0]&&"Kubernetes"===t[1]||"k8s"===t[0]?g?g.p(t,n):(g=ye(t),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null),"Virtual Machines"===t[1]||"Caprover"===t[1]||"caprover"===t[0]||"vm"===t[0]?v?v.p(t,n):(v=Ae(t),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null)},d(t){t&&a(e),b&&b.d(),t&&a(r),g&&g.d(t),t&&a(o),v&&v.d(t),t&&a(i),d=!1,p()}}}function be(t){let e,n,r,o,i,d,m,g,v,y,w,x=[],_=new Map,C=t[7];const P=t=>t[29];for(let e=0;e<C.length;e+=1){let n=fe(t,C,e),l=P(n);_.set(l,x[e]=Ge(l,n))}return{c(){e=u("form"),n=u("div"),r=u("div"),o=u("select");for(let t=0;t<x.length;t+=1)x[t].c();i=f(),d=u("div"),m=u("button"),g=p("List"),$(r,"class","select mb-4"),k(r,"display","flex"),k(r,"justify-content","flex-end"),k(n,"display","flex"),k(n,"justify-content","center"),m.disabled=v=!t[8]||""===t[8].mnemonics||""===t[8].storeSecret,$(m,"type","submit"),$(m,"class","button is-primary"),k(d,"display","flex"),k(d,"justify-content","center")},m(l,a){c(l,e,a),s(e,n),s(n,r),s(r,o);for(let t=0;t<x.length;t+=1)x[t].m(o,null);s(e,i),s(e,d),s(d,m),s(m,g),y||(w=[h(o,"change",t[12]),h(e,"submit",b(t[11]))],y=!0)},p(t,e){128&e[0]&&(C=t[7],x=J(x,e,P,1,t,C,_,o,Y,Ge,null,fe)),256&e[0]&&v!==(v=!t[8]||""===t[8].mnemonics||""===t[8].storeSecret)&&(m.disabled=v)},d(t){t&&a(e);for(let t=0;t<x.length;t+=1)x[t].d();y=!1,l(w)}}}function ge(e){let n;return{c(){n=u("p"),n.textContent="Loading...",$(n,"style","text-align: center; mt-2 mb-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function $e(t){let e,n,l,r=[],o=new Map,i=t[9];const d=t=>t[0].label;for(let e=0;e<i.length;e+=1){let n=pe(t,i,e),l=d(n);o.set(l,r[e]=ve(l,n))}return{c(){e=u("div"),n=u("div"),l=u("ul");for(let t=0;t<r.length;t+=1)r[t].c();$(n,"class","tabs is-centered"),k(e,"width","100%")},m(t,o){c(t,e,o),s(e,n),s(n,l);for(let t=0;t<r.length;t+=1)r[t].m(l,null)},p(t,e){514&e[0]&&(i=t[9],r=J(r,e,d,1,t,i,o,l,Y,ve,null,pe))},d(t){t&&a(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function ve(t,e){let n,l,r,o,i,d,m,g,v=e[0].label+"";function y(){return e[17](e[0])}return{key:t,first:null,c(){n=u("li"),l=u("a"),r=u("span"),o=p(v),i=f(),$(l,"href","#!"),$(n,"class",d=e[1]===e[0].label?"is-active":""),this.first=n},m(t,e){c(t,n,e),s(n,l),s(l,r),s(r,o),s(n,i),m||(g=h(l,"click",b(y)),m=!0)},p(t,l){e=t,2&l[0]&&d!==(d=e[1]===e[0].label?"is-active":"")&&$(n,"class",d)},d(t){t&&a(n),m=!1,g()}}}function ye(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Re,then:Ce,catch:we,value:30,error:33};return G(n=t[4].loadK8s(),l),{c(){e=m(),l.block.c()},m(t,n){c(t,e,n),l.block.m(t,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e},p(e,r){t=e,l.ctx=t,16&r[0]&&n!==(n=t[4].loadK8s())&&G(n,l)||W(l,t,r)},d(t){t&&a(e),l.block.d(t),l.token=null,l=null}}}function we(t){let e,n;function l(t,e){return t[33]&&t[33].message?_e:"string"==typeof t[33]?xe:ke}let r=l(t),o=r(t);return{c(){e=u("div"),n=p(">\n            "),o.c(),$(e,"class","notification is-danger mt-2")},m(t,l){c(t,e,l),s(e,n),o.m(e,null)},p(t,n){r===(r=l(t))&&o?o.p(t,n):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&a(e),o.d()}}}function ke(t){let e,n,l;return{c(){e=p("Failed to list "),n=p(t[1]),l=p(".")},m(t,r){c(t,e,r),c(t,n,r),c(t,l,r)},p(t,e){2&e[0]&&y(n,t[1])},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function xe(t){let e,n=t[33]+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){16&l[0]&&n!==(n=t[33]+"")&&y(e,n)},d(t){t&&a(e)}}}function _e(t){let e,n=t[33].message+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){16&l[0]&&n!==(n=t[33].message+"")&&y(e,n)},d(t){t&&a(e)}}}function Ce(t){let e;function n(t,e){return t[30].length?Ee:Pe}let l=n(t),r=l(t);return{c(){r.c(),e=m()},m(t,n){r.m(t,n),c(t,e,n)},p(t,o){l===(l=n(t))&&r?r.p(t,o):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&a(e)}}}function Pe(e){let n;return{c(){n=u("p"),n.textContent="No Deployments was found on this profile.",k(n,"text-align","center"),$(n,"class","mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Ee(t){let e,n,l,r,o,i=t[30],p=[];for(let e=0;e<i.length;e+=1)p[e]=Ie(ue(t,i,e));return{c(){e=u("div"),n=u("table"),l=u("thead"),l.innerHTML='<tr><th title="position">#</th> \n                    <th>Name</th> \n                    <th>Public IP</th> \n                    <th>Planetary Network IP</th> \n                    <th>Workers</th> \n                    <th>Actions</th></tr>',r=f(),o=u("tbody");for(let t=0;t<p.length;t+=1)p[t].c();$(n,"class","table"),$(e,"class","table-container mt-2")},m(t,i){c(t,e,i),s(e,n),s(n,l),s(n,r),s(n,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null)},p(t,e){if(8304&e[0]){let n;for(i=t[30],n=0;n<i.length;n+=1){const l=ue(t,i,n);p[n]?p[n].p(l,e):(p[n]=Ie(l),p[n].c(),p[n].m(o,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=i.length}},d(t){t&&a(e),d(p,t)}}}function Ne(e){let n;return{c(){n=u("td"),n.textContent="-"},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Oe(t){let e,n,l=t[31].master.publicIP.ip+"";return{c(){e=u("td"),n=p(l)},m(t,l){c(t,e,l),s(e,n)},p(t,e){16&e[0]&&l!==(l=t[31].master.publicIP.ip+"")&&y(n,l)},d(t){t&&a(e)}}}function Ie(t){let e,n,r,o,i,d,m,b,g,v,w,k,x,_,C,P,E,N,O,I,R,A,M,T,D,V,L=t[29]+1+"",S=t[31].name+"",j=t[31].master.yggIP+"",H=t[31].workers+"";function K(t,e){return t[31].master.publicIP?Oe:Ne}let z=K(t),B=z(t);function F(){return t[18](t[31])}function U(){return t[19](t[31])}return{c(){e=u("tr"),n=u("th"),r=p(L),o=f(),i=u("td"),d=p(S),m=f(),B.c(),b=f(),g=u("td"),v=p(j),w=f(),k=u("td"),x=p(H),_=f(),C=u("td"),P=u("button"),E=p("Show Details"),O=f(),I=u("button"),R=p("Delete"),T=f(),$(P,"class","button is-outlined is-primary ml-2"),P.disabled=N=t[5].includes(t[31].name),$(I,"class",A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":"")),I.disabled=M=t[5].includes(t[31].name)},m(t,l){c(t,e,l),s(e,n),s(n,r),s(e,o),s(e,i),s(i,d),s(e,m),B.m(e,null),s(e,b),s(e,g),s(g,v),s(e,w),s(e,k),s(k,x),s(e,_),s(e,C),s(C,P),s(P,E),s(C,O),s(C,I),s(I,R),s(e,T),D||(V=[h(P,"click",F),h(I,"click",U)],D=!0)},p(n,l){t=n,16&l[0]&&S!==(S=t[31].name+"")&&y(d,S),z===(z=K(t))&&B?B.p(t,l):(B.d(1),B=z(t),B&&(B.c(),B.m(e,b))),16&l[0]&&j!==(j=t[31].master.yggIP+"")&&y(v,j),16&l[0]&&H!==(H=t[31].workers+"")&&y(x,H),48&l[0]&&N!==(N=t[5].includes(t[31].name))&&(P.disabled=N),48&l[0]&&A!==(A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":""))&&$(I,"class",A),48&l[0]&&M!==(M=t[5].includes(t[31].name))&&(I.disabled=M)},d(t){t&&a(e),B.d(),D=!1,l(V)}}}function Re(e){let n;return{c(){n=u("div"),n.textContent="> Loading...",$(n,"class","notification is-info mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Ae(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Ue,then:Le,catch:Me,value:30,error:33};return G(n="Caprover"===t[1]||"caprover"===t[0]?t[4].loadCaprover():t[4].loadVm(),l),{c(){e=m(),l.block.c()},m(t,n){c(t,e,n),l.block.m(t,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e},p(e,r){t=e,l.ctx=t,19&r[0]&&n!==(n="Caprover"===t[1]||"caprover"===t[0]?t[4].loadCaprover():t[4].loadVm())&&G(n,l)||W(l,t,r)},d(t){t&&a(e),l.block.d(t),l.token=null,l=null}}}function Me(t){let e,n;function l(t,e){return t[33]&&t[33].message?Ve:"string"==typeof t[33]?De:Te}let r=l(t),o=r(t);return{c(){e=u("div"),n=p(">\n            "),o.c(),$(e,"class","notification is-danger mt-2")},m(t,l){c(t,e,l),s(e,n),o.m(e,null)},p(t,n){r===(r=l(t))&&o?o.p(t,n):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&a(e),o.d()}}}function Te(t){let e,n,l;return{c(){e=p("Failed to list "),n=p(t[1]),l=p(".")},m(t,r){c(t,e,r),c(t,n,r),c(t,l,r)},p(t,e){2&e[0]&&y(n,t[1])},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function De(t){let e,n=t[33]+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){19&l[0]&&n!==(n=t[33]+"")&&y(e,n)},d(t){t&&a(e)}}}function Ve(t){let e,n=t[33].message+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){19&l[0]&&n!==(n=t[33].message+"")&&y(e,n)},d(t){t&&a(e)}}}function Le(t){let e;function n(t,e){return t[30].length?je:Se}let l=n(t),r=l(t);return{c(){r.c(),e=m()},m(t,n){r.m(t,n),c(t,e,n)},p(t,o){l===(l=n(t))&&r?r.p(t,o):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&a(e)}}}function Se(e){let n;return{c(){n=u("p"),n.textContent="No Deployments was found on this profile.",k(n,"text-align","center"),$(n,"class","mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function je(t){let e,n,l,r,o,i=t[30],p=[];for(let e=0;e<i.length;e+=1)p[e]=Fe(de(t,i,e));return{c(){e=u("div"),n=u("table"),l=u("thead"),l.innerHTML='<tr><th title="position">#</th> \n                    <th>Name</th> \n                    <th>Public IP</th> \n                    <th>Planetary Network IP</th> \n                    <th>Flist</th> \n                    <th>Actions</th></tr>',r=f(),o=u("tbody");for(let t=0;t<p.length;t+=1)p[t].c();$(n,"class","table"),$(e,"class","table-container mt-2")},m(t,i){c(t,e,i),s(e,n),s(n,l),s(n,r),s(n,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null)},p(t,e){if(8307&e[0]){let n;for(i=t[30],n=0;n<i.length;n+=1){const l=de(t,i,n);p[n]?p[n].p(l,e):(p[n]=Fe(l),p[n].c(),p[n].m(o,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=i.length}},d(t){t&&a(e),d(p,t)}}}function He(t){let e,n,r,o,i,d,m,b,g,v,w,k,x,_,C,P,E,N,O,I,R,A,M,T,D,V,L,S=t[29]+1+"",j=t[31].name+"",H=t[31].yggIP+"",K=t[31].flist+"";function z(t,e){return t[31].publicIP?ze:Ke}let B=z(t),F=B(t);function U(){return t[20](t[31])}function X(){return t[21](t[31])}let q=t[31].details.env&&t[31].details.env.CAPROVER_ROOT_DOMAIN&&Be(t);return{c(){e=u("tr"),n=u("th"),r=p(S),o=f(),i=u("td"),d=p(j),m=f(),F.c(),b=f(),g=u("td"),v=p(H),w=f(),k=u("td"),x=p(K),_=f(),C=u("td"),P=u("button"),E=p("Show Details"),O=f(),I=u("button"),R=p("Delete"),T=f(),q&&q.c(),D=f(),$(P,"class","button is-outlined is-primary ml-2"),P.disabled=N=t[5].includes(t[31].name),$(I,"class",A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":"")),I.disabled=M=t[5].includes(t[31].name)},m(t,l){c(t,e,l),s(e,n),s(n,r),s(e,o),s(e,i),s(i,d),s(e,m),F.m(e,null),s(e,b),s(e,g),s(g,v),s(e,w),s(e,k),s(k,x),s(e,_),s(e,C),s(C,P),s(P,E),s(C,O),s(C,I),s(I,R),s(C,T),q&&q.m(C,null),s(e,D),V||(L=[h(P,"click",U),h(I,"click",X)],V=!0)},p(n,l){t=n,19&l[0]&&j!==(j=t[31].name+"")&&y(d,j),B===(B=z(t))&&F?F.p(t,l):(F.d(1),F=B(t),F&&(F.c(),F.m(e,b))),19&l[0]&&H!==(H=t[31].yggIP+"")&&y(v,H),19&l[0]&&K!==(K=t[31].flist+"")&&y(x,K),51&l[0]&&N!==(N=t[5].includes(t[31].name))&&(P.disabled=N),51&l[0]&&A!==(A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":""))&&$(I,"class",A),51&l[0]&&M!==(M=t[5].includes(t[31].name))&&(I.disabled=M),t[31].details.env&&t[31].details.env.CAPROVER_ROOT_DOMAIN?q?q.p(t,l):(q=Be(t),q.c(),q.m(C,null)):q&&(q.d(1),q=null)},d(t){t&&a(e),F.d(),q&&q.d(),V=!1,l(L)}}}function Ke(e){let n;return{c(){n=u("td"),n.textContent="-"},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function ze(t){let e,n,l=t[31].publicIP.ip+"";return{c(){e=u("td"),n=p(l)},m(t,l){c(t,e,l),s(e,n)},p(t,e){19&e[0]&&l!==(l=t[31].publicIP.ip+"")&&y(n,l)},d(t){t&&a(e)}}}function Be(t){let e,n,l,r;return{c(){e=u("a"),n=u("button"),n.textContent="Admin Panel",$(n,"class","button is-link"),$(e,"target","_blank"),$(e,"href",l="http://captain."+t[31].details.env.CAPROVER_ROOT_DOMAIN),$(e,"disabled",r=t[5].includes(t[31].details.name))},m(t,l){c(t,e,l),s(e,n)},p(t,n){19&n[0]&&l!==(l="http://captain."+t[31].details.env.CAPROVER_ROOT_DOMAIN)&&$(e,"href",l),51&n[0]&&r!==(r=t[5].includes(t[31].details.name))&&$(e,"disabled",r)},d(t){t&&a(e)}}}function Fe(t){let e,n=t[31].name&&He(t);return{c(){n&&n.c(),e=m()},m(t,l){n&&n.m(t,l),c(t,e,l)},p(t,l){t[31].name?n?n.p(t,l):(n=He(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&a(e)}}}function Ue(e){let n;return{c(){n=u("div"),n.textContent="> Loading...",$(n,"class","notification is-info mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Xe(t){let e,n,l,r=t[29]+1+"";return{c(){e=p("Profile "),n=p(r),l=f()},m(t,r){c(t,e,r),c(t,n,r),c(t,l,r)},p(t,e){128&e[0]&&r!==(r=t[29]+1+"")&&y(n,r)},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function qe(t){let e,n,l=t[8].name+"";return{c(){e=p(l),n=f()},m(t,l){c(t,e,l),c(t,n,l)},p(t,n){128&n[0]&&l!==(l=t[8].name+"")&&y(e,l)},d(t){t&&a(e),t&&a(n)}}}function Ge(t,e){let n,l;function r(t,e){return t[8].name?qe:Xe}let o=r(e),i=o(e);return{key:t,first:null,c(){n=u("option"),i.c(),n.__value=l=e[29],n.value=n.__value,this.first=n},m(t,e){c(t,n,e),i.m(n,null)},p(t,s){o===(o=r(e=t))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(n,null))),128&s[0]&&l!==(l=e[29])&&(n.__value=l,n.value=n.__value)},d(t){t&&a(n),i.d()}}}function We(t){let e,n;return e=new ae({props:{data:t[6]}}),e.$on("closed",t[22]),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};64&n[0]&&(l.data=t[6]),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Ye(e){let n,l,r,o,i,d,h,b,g,v,y=("k8s"===e[0]||"vm"===e[0]||"caprover"===e[0])&&me(e);function w(t,e){return t[2]?ge:t[3]?he:be}let x=w(e),_=x(e),C=e[6]&&We(e);return{c(){n=u("div"),l=u("section"),r=u("h4"),o=p("Deployment List\n      "),y&&y.c(),i=f(),d=u("hr"),h=f(),_.c(),b=f(),C&&C.c(),g=m(),this.c=t,$(r,"class","is-size-4 mb-4"),$(l,"class","box"),k(n,"padding","15px")},m(t,e){c(t,n,e),s(n,l),s(l,r),s(r,o),y&&y.m(r,null),s(l,i),s(l,d),s(l,h),_.m(l,null),c(t,b,e),C&&C.m(t,e),c(t,g,e),v=!0},p(t,e){"k8s"===t[0]||"vm"===t[0]||"caprover"===t[0]?y?y.p(t,e):(y=me(t),y.c(),y.m(r,null)):y&&(y.d(1),y=null),x===(x=w(t))&&_?_.p(t,e):(_.d(1),_=x(t),_&&(_.c(),_.m(l,null))),t[6]?C?(C.p(t,e),64&e[0]&&X(C,1)):(C=We(t),C.c(),X(C,1),C.m(g.parentNode,g)):C&&(F(),q(C,1,1,(()=>{C=null})),U())},i(t){v||(X(C),v=!0)},o(t){q(C),v=!1},d(t){t&&a(n),y&&y.d(),_.d(),t&&a(b),C&&C.d(t),t&&a(g)}}}function Je(t,e,n){let l,r,o;var s,c;let{tab:a}=e;let d,u="Kubernetes",p=!1,f=!1;const m=null===(s=window.configs)||void 0===s?void 0:s.baseConfig;i(t,m,(t=>n(15,o=t)));const h=null===(c=window.configs)||void 0===c?void 0:c.deploymentStore;let b=0;function g(){const t=u;n(1,u="");const e=a;n(0,a=void 0),requestAnimationFrame((()=>{n(1,u=t),n(0,a=e)}))}let $,v,y=[];function w(t,e){n(5,y=[...y,e]);const l=y.length-1;(function(t,e,n){const{mnemonics:l,networkEnv:r,storeSecret:o}=t,i=new ht(0,""),s=new mt(r,l,o,i,void 0,"tfkvstore");return s.connect().then((()=>s[e].delete({name:n})))})(r,t,e).then((t=>{console.log("Removed",t),0===t.deleted.length&&(y.splice(l,1),n(5,y)),g()})).catch((t=>{console.log("Error while removing",t)}))}var k;k=()=>{v=h.subscribe((t=>{g()}))},E().$$.on_mount.push(k),function(t){E().$$.on_destroy.push(t)}((()=>{v()}));return t.$$set=t=>{"tab"in t&&n(0,a=t.tab)},t.$$.update=()=>{32768&t.$$.dirty[0]&&n(7,l=o),49152&t.$$.dirty[0]&&n(8,r=o[b])},[a,u,p,f,d,y,$,l,r,[{label:"Kubernetes"},{label:"Virtual Machines"},{label:"Caprover"}],m,function(){n(3,f=!0),n(2,p=!0),at.init(r).then((t=>{n(4,d=t)})).finally((()=>n(2,p=!1)))},t=>n(14,b=t.target.selectedIndex),w,b,o,()=>n(3,f=!1),t=>n(1,u=t.label),t=>{n(6,$=t.details)},t=>w("k8s",t.name),t=>{n(6,$=t.details)},t=>w("machines",t.name),()=>n(6,$=null)]}customElements.define("tf-deployment-model",ae);customElements.define("tf-deployedlist",class extends B{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");.table{width:100%}</style>',nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Je,Ye,o,{tab:0},null,[-1,-1]),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["tab"]}get tab(){return this.$$.ctx[0]}set tab(t){this.$$set({tab:t}),j()}})}();
