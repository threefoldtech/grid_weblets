!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function m(){return p("")}function h(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function b(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function k(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function x(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}t.selectedIndex=-1}function _(t){const e={};for(const n of t)e[n.name]=n.value;return e}let C;function P(t){C=t}function E(){if(!C)throw new Error("Function called outside component initialization");return C}function N(){const t=E();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const o=function(t,e,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,!1,e),l}(e,n);l.slice().forEach((e=>{e.call(t,o)}))}}}function O(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const I=[],R=[],A=[],M=[],T=Promise.resolve();let D=!1;function V(t){A.push(t)}let L=!1;const S=new Set;function j(){if(!L){L=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];P(e),H(e.$$)}for(P(null),I.length=0;R.length;)R.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];S.has(e)||(S.add(e),e())}A.length=0}while(I.length);for(;M.length;)M.pop()();D=!1,L=!1,S.clear()}}function H(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const K=new Set;let z,B;function F(){z={r:0,c:[],p:z}}function U(){z.r||l(z.c),z=z.p}function X(t,e){t&&t.i&&(K.delete(t),t.i(e))}function q(t,e,n,l){if(t&&t.o){if(K.has(t))return;K.add(t),z.c.push((()=>{K.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}function G(t,e){const n=e.token={};function l(t,l,o,i){if(e.token!==n)return;e.resolved=i;let r=e.ctx;void 0!==o&&(r=r.slice(),r[o]=i);const s=t&&(e.current=t)(r);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==l&&t&&(F(),q(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),U())})):e.block.d(1),s.c(),X(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[l]=s),c&&j()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=E();if(t.then((t=>{P(n),l(e.then,1,e.value,t),P(null)}),(t=>{if(P(n),l(e.catch,2,e.error,t),P(null),!e.hasCatch)throw t})),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}var o}function W(t,e,n){const l=e.slice(),{resolved:o}=t;t.current===t.then&&(l[t.value]=o),t.current===t.catch&&(l[t.error]=o),t.block.p(l,n)}function Y(t,e){t.d(1),e.delete(t.key)}function J(t,e,n,l,o,i,r,s,c,a,d,u){let p=t.length,f=i.length,m=p;const h={};for(;m--;)h[t[m].key]=m;const b=[],g=new Map,$=new Map;for(m=f;m--;){const t=u(o,i,m),s=n(t);let c=r.get(s);c?l&&c.p(t,e):(c=a(s,t),c.c()),g.set(s,b[m]=c),s in h&&$.set(s,Math.abs(m-h[s]))}const v=new Set,y=new Set;function w(t){X(t,1),t.m(s,d),r.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=b[f-1],n=t[p-1],l=e.key,o=n.key;e===n?(d=e.first,p--,f--):g.has(o)?!r.has(l)||v.has(l)?w(e):y.has(o)?p--:$.get(l)>$.get(o)?(y.add(l),w(e)):(v.add(o),p--):(c(n,r),p--)}for(;p--;){const e=t[p];g.has(e.key)||c(e,r)}for(;f;)w(b[f-1]);return b}function Q(t){t&&t.c()}function Z(t,n,i,r){const{fragment:s,on_mount:c,on_destroy:a,after_update:d}=t.$$;s&&s.m(n,i),r||V((()=>{const n=c.map(e).filter(o);a?a.push(...n):l(n),t.$$.on_mount=[]})),d.forEach(V)}function tt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(I.push(t),D||(D=!0,T.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,o,i,r,s,c,d,u=[-1]){const p=C;P(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=i?i(e,o.props||{},((t,n,...l)=>{const o=l.length?l[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&et(e,t)),n})):[],f.update(),m=!0,l(f.before_update),f.fragment=!!r&&r(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(a)}else f.fragment&&f.fragment.c();o.intro&&X(e.$$.fragment),Z(e,o.target,o.anchor,o.customElement),j()}P(p)}var lt,ot,it,rt;"function"==typeof HTMLElement&&(B=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const{HTTPMessageBusClient:st}=null!==(ot=null===(lt=window.configs)||void 0===lt?void 0:lt.client)&&void 0!==ot?ot:{},{GridClient:ct}=null!==(rt=null===(it=window.configs)||void 0===it?void 0:it.grid3_client)&&void 0!==rt?rt:{};class at{constructor(t){this.grid=t}_loadK8s(t){return new Promise((e=>{this.grid.k8s.getObj(t).then((n=>{if(0===n.masters.length)return e(null);e({name:t,master:n.masters[0],workers:n.workers.length,details:n})})).catch((()=>e(null)))}))}loadK8s(){return this.grid.k8s.list().then((t=>Promise.all(t.map((t=>this._loadK8s(t)))))).then((t=>t.filter((t=>!1===[null,void 0].includes(t)))))}_loadVm(t){return new Promise((e=>{this.grid.machines.getObj(t).then((([n])=>{var l,o;return e({name:t,publicIp:null!==(o=null===(l=n.publicIP)||void 0===l?void 0:l.ip)&&void 0!==o?o:"None",yggIP:n.yggIP,flist:n.flist,details:n})})).catch((()=>e(null)))}))}loadVm(){return this.grid.machines.list().then((t=>(console.log("names: "+t),Promise.all(t.map((t=>this._loadVm(t))))))).then((t=>(console.log(t),t.filter((t=>!1===[null,void 0].includes(t))))))}loadCaprover(){return this.loadVm().then((t=>t.filter((t=>t.name.startsWith("caprover_leader")))))}static async init(t){const{mnemonics:e,networkEnv:n,storeSecret:l}=t,o=new st(0,""),i=new ct(n,e,l,o,"","tfkvstore");return await i.connect(),new at(i)}}var dt,ut,pt,ft;const{GridClient:mt}=null!==(ut=null===(dt=window.configs)||void 0===dt?void 0:dt.grid3_client)&&void 0!==ut?ut:{},{HTTPMessageBusClient:ht}=null!==(ft=null===(pt=window.configs)||void 0===pt?void 0:pt.client)&&void 0!==ft?ft:{};function bt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function gt(t){let e,n=[],l=new Map,o=t[1];const i=t=>t[6].label;for(let e=0;e<o.length;e+=1){let r=bt(t,o,e),s=i(r);l.set(s,n[e]=vt(s,r))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=m()},m(t,l){for(let e=0;e<n.length;e+=1)n[e].m(t,l);c(t,e,l)},p(t,r){11&r&&(o=t[1],n=J(n,r,i,1,t,o,l,e.parentNode,Y,vt,e,bt))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&a(e)}}}function $t(t){let e,n,l;return{c(){e=u("button"),$(e,"class","ml-2 is-small delete")},m(i,r){c(i,e,r),n||(l=h(e,"click",g(b((function(){o(t[3](t[8]))&&t[3](t[8]).apply(this,arguments)})))),n=!0)},p(e,n){t=e},d(t){t&&a(e),n=!1,l()}}}function vt(t,e){let n,l,o,i,r,d,m,g,v,w=e[6].label+"",k=e[6].removable&&$t(e);function x(){return e[4](e[6])}return{key:t,first:null,c(){n=u("li"),l=u("a"),o=u("span"),i=p(w),r=f(),k&&k.c(),d=f(),$(l,"href","#!"),$(n,"class",m=e[0]===e[6].value?"is-active":""),this.first=n},m(t,e){c(t,n,e),s(n,l),s(l,o),s(o,i),s(l,r),k&&k.m(l,null),s(n,d),g||(v=h(l,"click",b(x)),g=!0)},p(t,o){e=t,2&o&&w!==(w=e[6].label+"")&&y(i,w),e[6].removable?k?k.p(e,o):(k=$t(e),k.c(),k.m(l,null)):k&&(k.d(1),k=null),3&o&&m!==(m=e[0]===e[6].value?"is-active":"")&&$(n,"class",m)},d(t){t&&a(n),k&&k.d(),g=!1,v()}}}function yt(e){let n,l,o,i=e[1]&&gt(e);return{c(){n=u("div"),l=u("ul"),i&&i.c(),this.c=t,$(n,"class",o="tabs "+(e[2]?"is-centered":""))},m(t,e){c(t,n,e),s(n,l),i&&i.m(l,null)},p(t,[e]){t[1]?i?i.p(t,e):(i=gt(t),i.c(),i.m(l,null)):i&&(i.d(1),i=null),4&e&&o!==(o="tabs "+(t[2]?"is-centered":""))&&$(n,"class",o)},i:t,o:t,d(t){t&&a(n),i&&i.d()}}}function wt(t,e,n){const l=N();let{tabs:o}=e,{active:i}=e,{centered:r=!0}=e;return t.$$set=t=>{"tabs"in t&&n(1,o=t.tabs),"active"in t&&n(0,i=t.active),"centered"in t&&n(2,r=t.centered)},[i,o,r,t=>()=>l("removed",t),t=>n(0,i=t.value)]}class kt extends B{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");</style>',nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},wt,yt,i,{tabs:1,active:0,centered:2},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["tabs","active","centered"]}get tabs(){return this.$$.ctx[1]}set tabs(t){this.$$set({tabs:t}),j()}get active(){return this.$$.ctx[0]}set active(t){this.$$set({active:t}),j()}get centered(){return this.$$.ctx[2]}set centered(t){this.$$set({centered:t}),j()}}var xt;customElements.define("tf-tabs",kt);var _t=new Uint8Array(16);function Ct(){if(!xt&&!(xt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xt(_t)}var Pt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Et(t){return"string"==typeof t&&Pt.test(t)}for(var Nt=[],Ot=0;Ot<256;++Ot)Nt.push((Ot+256).toString(16).substr(1));function It(t,e,n){var l=(t=t||{}).random||(t.rng||Ct)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=l[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Nt[t[e+0]]+Nt[t[e+1]]+Nt[t[e+2]]+Nt[t[e+3]]+"-"+Nt[t[e+4]]+Nt[t[e+5]]+"-"+Nt[t[e+6]]+Nt[t[e+7]]+"-"+Nt[t[e+8]]+Nt[t[e+9]]+"-"+Nt[t[e+10]]+Nt[t[e+11]]+Nt[t[e+12]]+Nt[t[e+13]]+Nt[t[e+14]]+Nt[t[e+15]]).toLowerCase();if(!Et(n))throw TypeError("Stringified UUID is invalid");return n}(l)}function Rt(t,e,n){const l=t.slice();return l[19]=e[n],l}function At(t){let e,n,l;function o(t,e){return null==n&&(n=!!t[3]()),n?Dt:"checkbox"===t[1].type?Tt:"select"===t[1].type?Mt:void 0}let i=o(t),r=i&&i(t),d=t[1].tooltip&&zt(t);return{c(){e=u("div"),r&&r.c(),l=f(),d&&d.c(),$(e,"class","tooltip mb-2")},m(t,n){c(t,e,n),r&&r.m(e,null),s(e,l),d&&d.m(e,null)},p(t,n){i===(i=o(t))&&r?r.p(t,n):(r&&r.d(1),r=i&&i(t),r&&(r.c(),r.m(e,l))),t[1].tooltip?d?d.p(t,n):(d=zt(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(t){t&&a(e),r&&r.d(),d&&d.d()}}}function Mt(t){let e,n,o,i,r,d,p=[],m=new Map,b=t[1].label&&Vt(t),g=t[1].options;const v=t=>t[19].value;for(let e=0;e<g.length;e+=1){let n=Rt(t,g,e),l=v(n);m.set(l,p[e]=Lt(l,n))}return{c(){b&&b.c(),e=f(),n=u("div"),o=u("select");for(let t=0;t<p.length;t+=1)p[t].c();o.disabled=i=t[1].disabled,k(o,"width","100%"),void 0===t[0]&&V((()=>t[17].call(o))),$(n,"class","select mb-2"),k(n,"width","100%"),$(n,"id",t[2])},m(l,i){b&&b.m(l,i),c(l,e,i),c(l,n,i),s(n,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null);x(o,t[0]),r||(d=[h(o,"change",t[17]),h(o,"change",t[4])],r=!0)},p(t,n){t[1].label?b?b.p(t,n):(b=Vt(t),b.c(),b.m(e.parentNode,e)):b&&(b.d(1),b=null),2&n&&(g=t[1].options,p=J(p,n,v,1,t,g,m,o,Y,Lt,null,Rt)),2&n&&i!==(i=t[1].disabled)&&(o.disabled=i),3&n&&x(o,t[0])},d(t){b&&b.d(t),t&&a(e),t&&a(n);for(let t=0;t<p.length;t+=1)p[t].d();r=!1,l(d)}}}function Tt(t){let e,n,o,i,r,d,m,b,g,v,w,x=t[1].label+"";return{c(){e=u("div"),n=u("label"),o=u("input"),r=f(),d=u("span"),m=f(),b=u("label"),g=p(x),$(o,"class","switch__input"),$(o,"type","checkbox"),$(o,"id",t[2]),o.disabled=i=t[1].disabled,$(d,"class","slider"),$(n,"class","switch"),$(b,"for",t[2]),$(b,"class","label ml-2"),k(b,"cursor","pointer"),k(e,"display","flex"),k(e,"align-items","center"),$(e,"class","mb-2")},m(l,i){c(l,e,i),s(e,n),s(n,o),o.checked=t[0],s(n,r),s(n,d),s(e,m),s(e,b),s(b,g),v||(w=[h(o,"change",t[16]),h(o,"input",t[11])],v=!0)},p(t,e){2&e&&i!==(i=t[1].disabled)&&(o.disabled=i),3&e&&(o.checked=t[0]),2&e&&x!==(x=t[1].label+"")&&y(g,x)},d(t){t&&a(e),v=!1,l(w)}}}function Dt(t){let e,n,l,o,i,r=t[1].label+"";function d(t,e){return"textarea"===t[1].type?Kt:"text"===t[1].type?Ht:"number"===t[1].type?jt:"password"===t[1].type?St:void 0}let m=d(t),h=m&&m(t);return{c(){e=u("div"),n=u("p"),l=p(r),o=f(),i=u("div"),h&&h.c(),$(n,"class","label"),$(i,"class","control"),$(e,"class","field"),$(e,"id",t[2])},m(t,r){c(t,e,r),s(e,n),s(n,l),s(e,o),s(e,i),h&&h.m(i,null)},p(t,e){2&e&&r!==(r=t[1].label+"")&&y(l,r),m===(m=d(t))&&h?h.p(t,e):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(i,null)))},d(t){t&&a(e),h&&h.d()}}}function Vt(t){let e,n,l=t[1].label+"";return{c(){e=u("p"),n=p(l),$(e,"class","label")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].label+"")&&y(n,l)},d(t){t&&a(e)}}}function Lt(t,e){let n,l,o,i,r,d,m=e[19].label+"";return{key:t,first:null,c(){n=u("option"),l=p(m),o=f(),n.__value=i=e[19].value,n.value=n.__value,n.selected=r=e[19].selected,n.disabled=d=e[19].disabled,this.first=n},m(t,e){c(t,n,e),s(n,l),s(n,o)},p(t,o){e=t,2&o&&m!==(m=e[19].label+"")&&y(l,m),2&o&&i!==(i=e[19].value)&&(n.__value=i,n.value=n.__value),2&o&&r!==(r=e[19].selected)&&(n.selected=r),2&o&&d!==(d=e[19].disabled)&&(n.disabled=d)},d(t){t&&a(n)}}}function St(t){let e,n,o,i,r;return{c(){e=u("input"),$(e,"type","password"),$(e,"class","input"),$(e,"placeholder",n=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(r=[h(e,"input",t[15]),h(e,"input",t[10])],i=!0)},p(t,l){2&l&&n!==(n=t[1].placeholder)&&$(e,"placeholder",n),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&e.value!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(r)}}}function jt(t){let e,n,o,i,r;return{c(){e=u("input"),$(e,"type","number"),$(e,"class","input"),$(e,"placeholder",n=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(r=[h(e,"input",t[14]),h(e,"input",t[9])],i=!0)},p(t,l){2&l&&n!==(n=t[1].placeholder)&&$(e,"placeholder",n),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&v(e.value)!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(r)}}}function Ht(t){let e,n,o,i,r;return{c(){e=u("input"),$(e,"type","text"),$(e,"class","input"),$(e,"placeholder",n=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(r=[h(e,"input",t[13]),h(e,"input",t[8])],i=!0)},p(t,l){2&l&&n!==(n=t[1].placeholder)&&$(e,"placeholder",n),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&e.value!==t[0]&&w(e,t[0])},d(t){t&&a(e),i=!1,l(r)}}}function Kt(t){let e,n,o,i,r;return{c(){e=u("textarea"),$(e,"class","textarea"),$(e,"placeholder",n=t[1].placeholder),e.disabled=o=t[1].disabled},m(n,l){c(n,e,l),w(e,t[0]),i||(r=[h(e,"input",t[12]),h(e,"input",t[7])],i=!0)},p(t,l){2&l&&n!==(n=t[1].placeholder)&&$(e,"placeholder",n),2&l&&o!==(o=t[1].disabled)&&(e.disabled=o),3&l&&w(e,t[0])},d(t){t&&a(e),i=!1,l(r)}}}function zt(t){let e,n,l=t[1].tooltip+"";return{c(){e=u("span"),n=p(l),$(e,"class","tooltip__text")},m(t,l){c(t,e,l),s(e,n)},p(t,e){2&e&&l!==(l=t[1].tooltip+"")&&y(n,l)},d(t){t&&a(e)}}}function Bt(e){let n,l,o,i=e[1]&&At(e);return{c(){n=u("div"),l=f(),i&&i.c(),o=m(),this.c=t},m(t,r){c(t,n,r),n.innerHTML=e[5],c(t,l,r),i&&i.m(t,r),c(t,o,r)},p(t,[e]){t[1]?i?i.p(t,e):(i=At(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&a(n),t&&a(l),i&&i.d(t),t&&a(o)}}}function Ft(t,e,n){const l=N();let{field:o}=e,{data:i}=e,{selected:r=0}=e;const s=It();return t.$$set=t=>{"field"in t&&n(1,o=t.field),"data"in t&&n(0,i=t.data),"selected"in t&&n(6,r=t.selected)},[i,o,s,()=>["text","number","password","textarea"].includes(o.type),function(t){l("input");const e=t.target;n(6,r=e.selectedIndex)},'\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n  }\n\n  .switch .switch__input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 34px;\n  }\n\n  .slider:before {\n    position: absolute;\n    content: "";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 50%;\n  }\n\n  .switch__input:checked + .slider {\n    background-color: #2196f3;\n  }\n\n  .switch__input:checked + .slider {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  .switch__input:checked + .slider:before {\n    -webkit-transform: translateX(26px);\n    -ms-transform: translateX(26px);\n    transform: translateX(26px);\n  }\n\n  .tooltip {\n    position: relative;\n  }\n\n  .tooltip__text {\n    position: absolute;\n    top: -20px;\n    left: 50%;\n    padding: 10px 15px;\n    border-radius: 5px;\n    background-color: rgba(51, 51, 51, 0.9);\n    color: white;\n    z-index: 9;\n    max-width: min(1000px, calc(100% - 30px));\n    display: block;\n\n    transition-property: opacity, transform, visibility;\n    transition-timing-function: ease;\n    transition-duration: 300ms;\n    pointer-events: none;\n    opacity: 0;\n    visibility: hidden;\n    transform: translateX(-50%) translateY(20px) scale(0);\n  }\n\n  .tooltip:hover > .tooltip__text {\n    pointer-events: all;\n    opacity: 1;\n    visibility: visible;\n    transform: translateX(-50%) translateY(0) scale(1);\n  }\n</style>\n',r,function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(e){O.call(this,t,e)},function(){i=this.value,n(0,i),n(1,o)},function(){i=this.value,n(0,i),n(1,o)},function(){i=v(this.value),n(0,i),n(1,o)},function(){i=this.value,n(0,i),n(1,o)},function(){i=this.checked,n(0,i),n(1,o)},function(){i=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,i),n(1,o)}]}class Ut extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Ft,Bt,i,{field:1,data:0,selected:6},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["field","data","selected"]}get field(){return this.$$.ctx[1]}set field(t){this.$$set({field:t}),j()}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),j()}get selected(){return this.$$.ctx[6]}set selected(t){this.$$set({selected:t}),j()}}function Xt(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function qt(t,e,n){const l=t.slice();return l[14]=e[n],l}function Gt(t){let e,n;return e=new Ut({props:{data:t[11].yggIP,field:t[3]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[11].yggIP),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Wt(t){let e,n;return e=new Ut({props:{data:t[14].size,field:{label:`Disk(${t[14].mountPoint})`,symbol:"size",type:"number",disabled:!0}}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[14].size),1&n&&(l.field={label:`Disk(${t[14].mountPoint})`,symbol:"size",type:"number",disabled:!0}),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Yt(t){let e,n;return e=new Ut({props:{data:t[11].flist,field:t[8]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[11].flist),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Jt(t){let e,n;return e=new Ut({props:{data:"http://captain."+t[11].env.CAPROVER_ROOT_DOMAIN,field:t[9]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data="http://captain."+t[11].env.CAPROVER_ROOT_DOMAIN),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Qt(t){let e;return{c(){e=u("hr")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Zt(t){let e,n,l,o,i,r,s,u,p,h,b,g,$,v,y,w,k,x;e=new Ut({props:{data:t[11].name,field:t[1]}}),l=new Ut({props:{data:!!t[11].publicIP,field:t[2]}});let _=t[11].planetary&&Gt(t);r=new Ut({props:{data:t[11].interfaces[0].network,field:t[4]}}),u=new Ut({props:{data:t[11].capacity.cpu,field:t[5]}}),h=new Ut({props:{data:t[11].capacity.memory,field:t[6]}});let C=t[11].mounts,P=[];for(let e=0;e<C.length;e+=1)P[e]=Wt(qt(t,C,e));const E=t=>q(P[t],1,1,(()=>{P[t]=null}));$=new Ut({props:{data:t[11].interfaces[0].ip,field:t[7]}});let N=t[11].flist&&Yt(t),O=t[11].env.CAPROVER_ROOT_DOMAIN&&Jt(t),I=t[13]+1!==t[0].length&&Qt();return{c(){Q(e.$$.fragment),n=f(),Q(l.$$.fragment),o=f(),_&&_.c(),i=f(),Q(r.$$.fragment),s=f(),Q(u.$$.fragment),p=f(),Q(h.$$.fragment),b=f();for(let t=0;t<P.length;t+=1)P[t].c();g=f(),Q($.$$.fragment),v=f(),N&&N.c(),y=f(),O&&O.c(),w=f(),I&&I.c(),k=m()},m(t,a){Z(e,t,a),c(t,n,a),Z(l,t,a),c(t,o,a),_&&_.m(t,a),c(t,i,a),Z(r,t,a),c(t,s,a),Z(u,t,a),c(t,p,a),Z(h,t,a),c(t,b,a);for(let e=0;e<P.length;e+=1)P[e].m(t,a);c(t,g,a),Z($,t,a),c(t,v,a),N&&N.m(t,a),c(t,y,a),O&&O.m(t,a),c(t,w,a),I&&I.m(t,a),c(t,k,a),x=!0},p(t,n){const o={};1&n&&(o.data=t[11].name),e.$set(o);const s={};1&n&&(s.data=!!t[11].publicIP),l.$set(s),t[11].planetary?_?(_.p(t,n),1&n&&X(_,1)):(_=Gt(t),_.c(),X(_,1),_.m(i.parentNode,i)):_&&(F(),q(_,1,1,(()=>{_=null})),U());const c={};1&n&&(c.data=t[11].interfaces[0].network),r.$set(c);const a={};1&n&&(a.data=t[11].capacity.cpu),u.$set(a);const d={};if(1&n&&(d.data=t[11].capacity.memory),h.$set(d),1&n){let e;for(C=t[11].mounts,e=0;e<C.length;e+=1){const l=qt(t,C,e);P[e]?(P[e].p(l,n),X(P[e],1)):(P[e]=Wt(l),P[e].c(),X(P[e],1),P[e].m(g.parentNode,g))}for(F(),e=C.length;e<P.length;e+=1)E(e);U()}const p={};1&n&&(p.data=t[11].interfaces[0].ip),$.$set(p),t[11].flist?N?(N.p(t,n),1&n&&X(N,1)):(N=Yt(t),N.c(),X(N,1),N.m(y.parentNode,y)):N&&(F(),q(N,1,1,(()=>{N=null})),U()),t[11].env.CAPROVER_ROOT_DOMAIN?O?(O.p(t,n),1&n&&X(O,1)):(O=Jt(t),O.c(),X(O,1),O.m(w.parentNode,w)):O&&(F(),q(O,1,1,(()=>{O=null})),U()),t[13]+1!==t[0].length?I||(I=Qt(),I.c(),I.m(k.parentNode,k)):I&&(I.d(1),I=null)},i(t){if(!x){X(e.$$.fragment,t),X(l.$$.fragment,t),X(_),X(r.$$.fragment,t),X(u.$$.fragment,t),X(h.$$.fragment,t);for(let t=0;t<C.length;t+=1)X(P[t]);X($.$$.fragment,t),X(N),X(O),x=!0}},o(t){q(e.$$.fragment,t),q(l.$$.fragment,t),q(_),q(r.$$.fragment,t),q(u.$$.fragment,t),q(h.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)q(P[t]);q($.$$.fragment,t),q(N),q(O),x=!1},d(t){tt(e,t),t&&a(n),tt(l,t),t&&a(o),_&&_.d(t),t&&a(i),tt(r,t),t&&a(s),tt(u,t),t&&a(p),tt(h,t),t&&a(b),d(P,t),t&&a(g),tt($,t),t&&a(v),N&&N.d(t),t&&a(y),O&&O.d(t),t&&a(w),I&&I.d(t),t&&a(k)}}}function te(e){let n,l,o=e[0],i=[];for(let t=0;t<o.length;t+=1)i[t]=Zt(Xt(e,o,t));const r=t=>q(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=m(),this.c=t},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);c(t,n,e),l=!0},p(t,[e]){if(1023&e){let l;for(o=t[0],l=0;l<o.length;l+=1){const r=Xt(t,o,l);i[l]?(i[l].p(r,e),X(i[l],1)):(i[l]=Zt(r),i[l].c(),X(i[l],1),i[l].m(n.parentNode,n))}for(F(),l=o.length;l<i.length;l+=1)r(l);U()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)X(i[t]);l=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)q(i[t]);l=!1},d(t){d(i,t),t&&a(n)}}}function ee(t,e,n){let{data:l}=e,o=[];return t.$$set=t=>{"data"in t&&n(10,l=t.data)},t.$$.update=()=>{1024&t.$$.dirty&&l&&n(0,o=l.masters?[l.masters[0],...l.workers]:[l])},[o,{label:"Name",symbol:"name",type:"text",disabled:!0},{label:"Public IP",symbol:"publicIP",type:"checkbox",disabled:!0},{label:"\tPlanetary Network IP",symbol:"yggIP",type:"text",disabled:!0},{label:"Network Name",symbol:"network",type:"text",disabled:!0},{label:"CPU",symbol:"cpu",type:"number",disabled:!0},{label:"Memory",symbol:"memory",type:"number",disabled:!0},{label:"WireGuard",symbol:"wireguard",type:"text",disabled:!0},{label:"Flist",symbol:"flist",type:"text",disabled:!0},{label:"Domain",symbol:"domain",type:"text",disabled:!0,tooltip:"Default Password: captain42"},l]}customElements.define("tf-input",Ut);class ne extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ee,te,i,{data:10},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["data"]}get data(){return this.$$.ctx[10]}set data(t){this.$$set({data:t}),j()}}function le(e){let n,l,o,i,r,d,m,b,g;return{c(){n=u("div"),l=p(e[2]),o=f(),i=u("hr"),r=f(),d=u("div"),m=u("button"),m.textContent="Copy",$(n,"class","json"),$(m,"class","button is-primary"),$(d,"class","is-flex is-justify-content-flex-end")},m(t,a){c(t,n,a),s(n,l),c(t,o,a),c(t,i,a),c(t,r,a),c(t,d,a),s(d,m),b||(g=h(m,"click",e[9]),b=!0)},p(t,e){4&e&&y(l,t[2])},i:t,o:t,d(t){t&&a(n),t&&a(o),t&&a(i),t&&a(r),t&&a(d),b=!1,g()}}}function oe(t){let e,n;return e=new ne({props:{data:t[0]}}),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.data=t[0]),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ie(e){let n,o,i,r,d,p,m,v,y,w,k,x,_,C,P,E,N,O;function I(t){e[8](t)}let A={tabs:e[4]};void 0!==e[1]&&(A.active=e[1]),v=new kt({props:A}),R.push((()=>function(t,e,n){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}(v,"active",I)));const T=[oe,le],D=[];function V(t,e){return"details"===t[1]?0:"json"===t[1]?1:-1}return~(x=V(e))&&(_=D[x]=T[x](e)),{c(){n=u("div"),o=f(),i=u("div"),r=u("div"),d=f(),p=u("div"),m=u("div"),Q(v.$$.fragment),w=f(),k=u("section"),_&&_.c(),C=f(),P=u("button"),this.c=t,$(r,"class","modal-background"),$(k,"class","content"),$(m,"class","box"),$(p,"class","modal-content"),$(P,"class","modal-close is-large"),$(P,"aria-label","close"),$(i,"class","modal is-active")},m(t,l){c(t,n,l),n.innerHTML=e[5],c(t,o,l),c(t,i,l),s(i,r),s(i,d),s(i,p),s(p,m),Z(v,m,null),s(m,w),s(m,k),~x&&D[x].m(k,null),s(i,C),s(i,P),E=!0,N||(O=[h(r,"click",b(e[7])),h(p,"click",g(e[6])),h(P,"click",b(e[10]))],N=!0)},p(t,[e]){const n={};var l;!y&&2&e&&(y=!0,n.active=t[1],l=()=>y=!1,M.push(l)),v.$set(n);let o=x;x=V(t),x===o?~x&&D[x].p(t,e):(_&&(F(),q(D[o],1,1,(()=>{D[o]=null})),U()),~x?(_=D[x],_?_.p(t,e):(_=D[x]=T[x](t),_.c()),X(_,1),_.m(k,null)):_=null)},i(t){E||(X(v.$$.fragment,t),X(_),E=!0)},o(t){q(v.$$.fragment,t),q(_),E=!1},d(t){t&&a(n),t&&a(o),t&&a(i),tt(v),~x&&D[x].d(),N=!1,l(O)}}}function re(t,e,n){let l;const o=N();let i="details",{data:r}=e;return t.$$set=t=>{"data"in t&&n(0,r=t.data)},t.$$.update=()=>{1&t.$$.dirty&&n(2,l=r?JSON.stringify(r,void 0,4):"")},[r,i,l,o,[{label:"Details",value:"details"},{label:"JSON",value:"json"}],"\n<style>\n  .modal-content {\n    width: calc(100% - 30px);\n    max-height: 70vh;\n    transform: translateY(30px);\n    background-color: white;\n  }\n\n  .modal-content::-webkit-scrollbar-thumb {\n    background-color: #d3d3d3;\n  }\n  \n  .modal-content::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  .content {\n    overflow-x: hidden;\n    overflow-y: auto;\n    background-color: #fff;\n  }\n\n  .modal-content > div,\n  .content {\n    width: 100%;\n  }\n\n  .json {\n    white-space: pre-wrap;\n  }\n</style>\n",function(e){O.call(this,t,e)},()=>o("closed"),function(t){i=t,n(1,i)},()=>function(t){const e=document.createElement("textarea");e.value=t,e.style.display="block",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),e.remove()}(l),()=>o("closed")]}customElements.define("tf-format-data",ne);class se extends B{constructor(t){super(),nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},re,ie,i,{data:0},null),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["data"]}get data(){return this.$$.ctx[0]}set data(t){this.$$set({data:t}),j()}}function ce(t,e,n){const l=t.slice();return l[31]=e[n],l[29]=n,l}function ae(t,e,n){const l=t.slice();return l[31]=e[n],l[29]=n,l}function de(t,e,n){const l=t.slice();return l[0]=e[n],l}function ue(t,e,n){const l=t.slice();return l[8]=e[n],l[29]=n,l}function pe(t){let e,n,l,o=t[0].toLocaleUpperCase()+"";return{c(){e=p("("),n=p(o),l=p(")")},m(t,o){c(t,e,o),c(t,n,o),c(t,l,o)},p(t,e){1&e[0]&&o!==(o=t[0].toLocaleUpperCase()+"")&&y(n,o)},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function fe(t){let e,n,l,o,i,r,d,p,b=!t[0]&&be(t),g=(!t[0]&&"Kubernetes"===t[1]||"k8s"===t[0])&&$e(t),v=("Virtual Machines"===t[1]||"Caprover"===t[1]||"caprover"===t[0]||"vm"===t[0])&&Ie(t);return{c(){e=u("div"),n=u("button"),n.textContent="Back",l=f(),b&&b.c(),o=f(),g&&g.c(),i=f(),v&&v.c(),r=m(),$(n,"class","button is-primary is-outlined mr-2"),k(e,"display","flex")},m(a,u){c(a,e,u),s(e,n),s(e,l),b&&b.m(e,null),c(a,o,u),g&&g.m(a,u),c(a,i,u),v&&v.m(a,u),c(a,r,u),d||(p=h(n,"click",t[16]),d=!0)},p(t,n){t[0]?b&&(b.d(1),b=null):b?b.p(t,n):(b=be(t),b.c(),b.m(e,null)),!t[0]&&"Kubernetes"===t[1]||"k8s"===t[0]?g?g.p(t,n):(g=$e(t),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),"Virtual Machines"===t[1]||"Caprover"===t[1]||"caprover"===t[0]||"vm"===t[0]?v?v.p(t,n):(v=Ie(t),v.c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null)},d(t){t&&a(e),b&&b.d(),t&&a(o),g&&g.d(t),t&&a(i),v&&v.d(t),t&&a(r),d=!1,p()}}}function me(t){let e,n,o,i,r,d,m,g,v,y,w,x=[],_=new Map,C=t[7];const P=t=>t[29];for(let e=0;e<C.length;e+=1){let n=ue(t,C,e),l=P(n);_.set(l,x[e]=Xe(l,n))}return{c(){e=u("form"),n=u("div"),o=u("div"),i=u("select");for(let t=0;t<x.length;t+=1)x[t].c();r=f(),d=u("div"),m=u("button"),g=p("List"),$(o,"class","select mb-4"),k(o,"display","flex"),k(o,"justify-content","flex-end"),k(n,"display","flex"),k(n,"justify-content","center"),m.disabled=v=!t[8]||""===t[8].mnemonics||""===t[8].storeSecret,$(m,"type","submit"),$(m,"class","button is-primary"),k(d,"display","flex"),k(d,"justify-content","center")},m(l,a){c(l,e,a),s(e,n),s(n,o),s(o,i);for(let t=0;t<x.length;t+=1)x[t].m(i,null);s(e,r),s(e,d),s(d,m),s(m,g),y||(w=[h(i,"change",t[12]),h(e,"submit",b(t[11]))],y=!0)},p(t,e){128&e[0]&&(C=t[7],x=J(x,e,P,1,t,C,_,i,Y,Xe,null,ue)),256&e[0]&&v!==(v=!t[8]||""===t[8].mnemonics||""===t[8].storeSecret)&&(m.disabled=v)},d(t){t&&a(e);for(let t=0;t<x.length;t+=1)x[t].d();y=!1,l(w)}}}function he(e){let n;return{c(){n=u("p"),n.textContent="Loading...",$(n,"style","text-align: center; mt-2 mb-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function be(t){let e,n,l,o=[],i=new Map,r=t[9];const d=t=>t[0].label;for(let e=0;e<r.length;e+=1){let n=de(t,r,e),l=d(n);i.set(l,o[e]=ge(l,n))}return{c(){e=u("div"),n=u("div"),l=u("ul");for(let t=0;t<o.length;t+=1)o[t].c();$(n,"class","tabs is-centered"),k(e,"width","100%")},m(t,i){c(t,e,i),s(e,n),s(n,l);for(let t=0;t<o.length;t+=1)o[t].m(l,null)},p(t,e){514&e[0]&&(r=t[9],o=J(o,e,d,1,t,r,i,l,Y,ge,null,de))},d(t){t&&a(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function ge(t,e){let n,l,o,i,r,d,m,g,v=e[0].label+"";function y(){return e[17](e[0])}return{key:t,first:null,c(){n=u("li"),l=u("a"),o=u("span"),i=p(v),r=f(),$(l,"href","#!"),$(n,"class",d=e[1]===e[0].label?"is-active":""),this.first=n},m(t,e){c(t,n,e),s(n,l),s(l,o),s(o,i),s(n,r),m||(g=h(l,"click",b(y)),m=!0)},p(t,l){e=t,2&l[0]&&d!==(d=e[1]===e[0].label?"is-active":"")&&$(n,"class",d)},d(t){t&&a(n),m=!1,g()}}}function $e(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Oe,then:xe,catch:ve,value:30,error:33};return G(n=t[4].loadK8s(),l),{c(){e=m(),l.block.c()},m(t,n){c(t,e,n),l.block.m(t,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e},p(e,o){t=e,l.ctx=t,16&o[0]&&n!==(n=t[4].loadK8s())&&G(n,l)||W(l,t,o)},d(t){t&&a(e),l.block.d(t),l.token=null,l=null}}}function ve(t){let e,n;function l(t,e){return t[33]&&t[33].message?ke:"string"==typeof t[33]?we:ye}let o=l(t),i=o(t);return{c(){e=u("div"),n=p(">\n            "),i.c(),$(e,"class","notification is-danger mt-2")},m(t,l){c(t,e,l),s(e,n),i.m(e,null)},p(t,n){o===(o=l(t))&&i?i.p(t,n):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&a(e),i.d()}}}function ye(t){let e,n,l;return{c(){e=p("Failed to list "),n=p(t[1]),l=p(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,l,o)},p(t,e){2&e[0]&&y(n,t[1])},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function we(t){let e,n=t[33]+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){16&l[0]&&n!==(n=t[33]+"")&&y(e,n)},d(t){t&&a(e)}}}function ke(t){let e,n=t[33].message+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){16&l[0]&&n!==(n=t[33].message+"")&&y(e,n)},d(t){t&&a(e)}}}function xe(t){let e;function n(t,e){return t[30].length?Ce:_e}let l=n(t),o=l(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),c(t,e,n)},p(t,i){l===(l=n(t))&&o?o.p(t,i):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&a(e)}}}function _e(e){let n;return{c(){n=u("p"),n.textContent="No Deployments was found on this profile.",k(n,"text-align","center"),$(n,"class","mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Ce(t){let e,n,l,o,i,r=t[30],p=[];for(let e=0;e<r.length;e+=1)p[e]=Ne(ae(t,r,e));return{c(){e=u("div"),n=u("table"),l=u("thead"),l.innerHTML='<tr><th title="position">#</th> \n                    <th>Name</th> \n                    <th>Public IP</th> \n                    <th>Planetary Network IP</th> \n                    <th>Workers</th> \n                    <th>Actions</th></tr>',o=f(),i=u("tbody");for(let t=0;t<p.length;t+=1)p[t].c();$(n,"class","table"),$(e,"class","table-container mt-2")},m(t,r){c(t,e,r),s(e,n),s(n,l),s(n,o),s(n,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null)},p(t,e){if(8304&e[0]){let n;for(r=t[30],n=0;n<r.length;n+=1){const l=ae(t,r,n);p[n]?p[n].p(l,e):(p[n]=Ne(l),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=r.length}},d(t){t&&a(e),d(p,t)}}}function Pe(e){let n;return{c(){n=u("td"),n.textContent="-"},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Ee(t){let e,n,l=t[31].master.publicIP.ip+"";return{c(){e=u("td"),n=p(l)},m(t,l){c(t,e,l),s(e,n)},p(t,e){16&e[0]&&l!==(l=t[31].master.publicIP.ip+"")&&y(n,l)},d(t){t&&a(e)}}}function Ne(t){let e,n,o,i,r,d,m,b,g,v,w,k,x,_,C,P,E,N,O,I,R,A,M,T,D,V,L=t[29]+1+"",S=t[31].name+"",j=t[31].master.yggIP+"",H=t[31].workers+"";function K(t,e){return t[31].master.publicIP?Ee:Pe}let z=K(t),B=z(t);function F(){return t[18](t[31])}function U(){return t[19](t[31])}return{c(){e=u("tr"),n=u("th"),o=p(L),i=f(),r=u("td"),d=p(S),m=f(),B.c(),b=f(),g=u("td"),v=p(j),w=f(),k=u("td"),x=p(H),_=f(),C=u("td"),P=u("button"),E=p("Show Details"),O=f(),I=u("button"),R=p("Delete"),T=f(),$(P,"class","button is-outlined is-primary ml-2"),P.disabled=N=t[5].includes(t[31].name),$(I,"class",A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":"")),I.disabled=M=t[5].includes(t[31].name)},m(t,l){c(t,e,l),s(e,n),s(n,o),s(e,i),s(e,r),s(r,d),s(e,m),B.m(e,null),s(e,b),s(e,g),s(g,v),s(e,w),s(e,k),s(k,x),s(e,_),s(e,C),s(C,P),s(P,E),s(C,O),s(C,I),s(I,R),s(e,T),D||(V=[h(P,"click",F),h(I,"click",U)],D=!0)},p(n,l){t=n,16&l[0]&&S!==(S=t[31].name+"")&&y(d,S),z===(z=K(t))&&B?B.p(t,l):(B.d(1),B=z(t),B&&(B.c(),B.m(e,b))),16&l[0]&&j!==(j=t[31].master.yggIP+"")&&y(v,j),16&l[0]&&H!==(H=t[31].workers+"")&&y(x,H),48&l[0]&&N!==(N=t[5].includes(t[31].name))&&(P.disabled=N),48&l[0]&&A!==(A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":""))&&$(I,"class",A),48&l[0]&&M!==(M=t[5].includes(t[31].name))&&(I.disabled=M)},d(t){t&&a(e),B.d(),D=!1,l(V)}}}function Oe(e){let n;return{c(){n=u("div"),n.textContent="> Loading...",$(n,"class","notification is-info mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Ie(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Be,then:De,catch:Re,value:30,error:33};return G(n="Caprover"===t[1]||"caprover"===t[0]?t[4].loadCaprover():t[4].loadVm(),l),{c(){e=m(),l.block.c()},m(t,n){c(t,e,n),l.block.m(t,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e},p(e,o){t=e,l.ctx=t,19&o[0]&&n!==(n="Caprover"===t[1]||"caprover"===t[0]?t[4].loadCaprover():t[4].loadVm())&&G(n,l)||W(l,t,o)},d(t){t&&a(e),l.block.d(t),l.token=null,l=null}}}function Re(t){let e,n;function l(t,e){return t[33]&&t[33].message?Te:"string"==typeof t[33]?Me:Ae}let o=l(t),i=o(t);return{c(){e=u("div"),n=p(">\n            "),i.c(),$(e,"class","notification is-danger mt-2")},m(t,l){c(t,e,l),s(e,n),i.m(e,null)},p(t,n){o===(o=l(t))&&i?i.p(t,n):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&a(e),i.d()}}}function Ae(t){let e,n,l;return{c(){e=p("Failed to list "),n=p(t[1]),l=p(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,l,o)},p(t,e){2&e[0]&&y(n,t[1])},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function Me(t){let e,n=t[33]+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){19&l[0]&&n!==(n=t[33]+"")&&y(e,n)},d(t){t&&a(e)}}}function Te(t){let e,n=t[33].message+"";return{c(){e=p(n)},m(t,n){c(t,e,n)},p(t,l){19&l[0]&&n!==(n=t[33].message+"")&&y(e,n)},d(t){t&&a(e)}}}function De(t){let e;function n(t,e){return t[30].length?Le:Ve}let l=n(t),o=l(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),c(t,e,n)},p(t,i){l===(l=n(t))&&o?o.p(t,i):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&a(e)}}}function Ve(e){let n;return{c(){n=u("p"),n.textContent="No Deployments was found on this profile.",k(n,"text-align","center"),$(n,"class","mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Le(t){let e,n,l,o,i,r=t[30],p=[];for(let e=0;e<r.length;e+=1)p[e]=ze(ce(t,r,e));return{c(){e=u("div"),n=u("table"),l=u("thead"),l.innerHTML='<tr><th title="position">#</th> \n                    <th>Name</th> \n                    <th>Public IP</th> \n                    <th>Planetary Network IP</th> \n                    <th>Flist</th> \n                    <th>Actions</th></tr>',o=f(),i=u("tbody");for(let t=0;t<p.length;t+=1)p[t].c();$(n,"class","table"),$(e,"class","table-container mt-2")},m(t,r){c(t,e,r),s(e,n),s(n,l),s(n,o),s(n,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null)},p(t,e){if(8307&e[0]){let n;for(r=t[30],n=0;n<r.length;n+=1){const l=ce(t,r,n);p[n]?p[n].p(l,e):(p[n]=ze(l),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=r.length}},d(t){t&&a(e),d(p,t)}}}function Se(t){let e,n,o,i,r,d,m,b,g,v,w,k,x,_,C,P,E,N,O,I,R,A,M,T,D,V,L,S=t[29]+1+"",j=t[31].name+"",H=t[31].yggIP+"",K=t[31].flist+"";function z(t,e){return t[31].publicIP?He:je}let B=z(t),F=B(t);function U(){return t[20](t[31])}function X(){return t[21](t[31])}let q=t[31].details.env&&t[31].details.env.CAPROVER_ROOT_DOMAIN&&Ke(t);return{c(){e=u("tr"),n=u("th"),o=p(S),i=f(),r=u("td"),d=p(j),m=f(),F.c(),b=f(),g=u("td"),v=p(H),w=f(),k=u("td"),x=p(K),_=f(),C=u("td"),P=u("button"),E=p("Show Details"),O=f(),I=u("button"),R=p("Delete"),T=f(),q&&q.c(),D=f(),$(P,"class","button is-outlined is-primary ml-2"),P.disabled=N=t[5].includes(t[31].name),$(I,"class",A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":"")),I.disabled=M=t[5].includes(t[31].name)},m(t,l){c(t,e,l),s(e,n),s(n,o),s(e,i),s(e,r),s(r,d),s(e,m),F.m(e,null),s(e,b),s(e,g),s(g,v),s(e,w),s(e,k),s(k,x),s(e,_),s(e,C),s(C,P),s(P,E),s(C,O),s(C,I),s(I,R),s(C,T),q&&q.m(C,null),s(e,D),V||(L=[h(P,"click",U),h(I,"click",X)],V=!0)},p(n,l){t=n,19&l[0]&&j!==(j=t[31].name+"")&&y(d,j),B===(B=z(t))&&F?F.p(t,l):(F.d(1),F=B(t),F&&(F.c(),F.m(e,b))),19&l[0]&&H!==(H=t[31].yggIP+"")&&y(v,H),19&l[0]&&K!==(K=t[31].flist+"")&&y(x,K),51&l[0]&&N!==(N=t[5].includes(t[31].name))&&(P.disabled=N),51&l[0]&&A!==(A="button is-danger "+(t[5].includes(t[31].name)?"is-loading":""))&&$(I,"class",A),51&l[0]&&M!==(M=t[5].includes(t[31].name))&&(I.disabled=M),t[31].details.env&&t[31].details.env.CAPROVER_ROOT_DOMAIN?q?q.p(t,l):(q=Ke(t),q.c(),q.m(C,null)):q&&(q.d(1),q=null)},d(t){t&&a(e),F.d(),q&&q.d(),V=!1,l(L)}}}function je(e){let n;return{c(){n=u("td"),n.textContent="-"},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function He(t){let e,n,l=t[31].publicIP.ip+"";return{c(){e=u("td"),n=p(l)},m(t,l){c(t,e,l),s(e,n)},p(t,e){19&e[0]&&l!==(l=t[31].publicIP.ip+"")&&y(n,l)},d(t){t&&a(e)}}}function Ke(t){let e,n,l,o;return{c(){e=u("a"),n=u("button"),n.textContent="Admin Panel",$(n,"class","button is-link"),$(e,"target","_blank"),$(e,"href",l="http://captain."+t[31].details.env.CAPROVER_ROOT_DOMAIN),$(e,"disabled",o=t[5].includes(t[31].details.name))},m(t,l){c(t,e,l),s(e,n)},p(t,n){19&n[0]&&l!==(l="http://captain."+t[31].details.env.CAPROVER_ROOT_DOMAIN)&&$(e,"href",l),51&n[0]&&o!==(o=t[5].includes(t[31].details.name))&&$(e,"disabled",o)},d(t){t&&a(e)}}}function ze(t){let e,n=t[31].name&&Se(t);return{c(){n&&n.c(),e=m()},m(t,l){n&&n.m(t,l),c(t,e,l)},p(t,l){t[31].name?n?n.p(t,l):(n=Se(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&a(e)}}}function Be(e){let n;return{c(){n=u("div"),n.textContent="> Loading...",$(n,"class","notification is-info mt-2")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Fe(t){let e,n,l,o=t[29]+1+"";return{c(){e=p("Profile "),n=p(o),l=f()},m(t,o){c(t,e,o),c(t,n,o),c(t,l,o)},p(t,e){128&e[0]&&o!==(o=t[29]+1+"")&&y(n,o)},d(t){t&&a(e),t&&a(n),t&&a(l)}}}function Ue(t){let e,n,l=t[8].name+"";return{c(){e=p(l),n=f()},m(t,l){c(t,e,l),c(t,n,l)},p(t,n){128&n[0]&&l!==(l=t[8].name+"")&&y(e,l)},d(t){t&&a(e),t&&a(n)}}}function Xe(t,e){let n,l;function o(t,e){return t[8].name?Ue:Fe}let i=o(e),r=i(e);return{key:t,first:null,c(){n=u("option"),r.c(),n.__value=l=e[29],n.value=n.__value,this.first=n},m(t,e){c(t,n,e),r.m(n,null)},p(t,s){i===(i=o(e=t))&&r?r.p(e,s):(r.d(1),r=i(e),r&&(r.c(),r.m(n,null))),128&s[0]&&l!==(l=e[29])&&(n.__value=l,n.value=n.__value)},d(t){t&&a(n),r.d()}}}function qe(t){let e,n;return e=new se({props:{data:t[6]}}),e.$on("closed",t[22]),{c(){Q(e.$$.fragment)},m(t,l){Z(e,t,l),n=!0},p(t,n){const l={};64&n[0]&&(l.data=t[6]),e.$set(l)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Ge(e){let n,l,o,i,r,d,h,b,g,v,y=("k8s"===e[0]||"vm"===e[0]||"caprover"===e[0])&&pe(e);function w(t,e){return t[2]?he:t[3]?fe:me}let x=w(e),_=x(e),C=e[6]&&qe(e);return{c(){n=u("div"),l=u("section"),o=u("h4"),i=p("Deployment List\n      "),y&&y.c(),r=f(),d=u("hr"),h=f(),_.c(),b=f(),C&&C.c(),g=m(),this.c=t,$(o,"class","is-size-4 mb-4"),$(l,"class","box"),k(n,"padding","15px")},m(t,e){c(t,n,e),s(n,l),s(l,o),s(o,i),y&&y.m(o,null),s(l,r),s(l,d),s(l,h),_.m(l,null),c(t,b,e),C&&C.m(t,e),c(t,g,e),v=!0},p(t,e){"k8s"===t[0]||"vm"===t[0]||"caprover"===t[0]?y?y.p(t,e):(y=pe(t),y.c(),y.m(o,null)):y&&(y.d(1),y=null),x===(x=w(t))&&_?_.p(t,e):(_.d(1),_=x(t),_&&(_.c(),_.m(l,null))),t[6]?C?(C.p(t,e),64&e[0]&&X(C,1)):(C=qe(t),C.c(),X(C,1),C.m(g.parentNode,g)):C&&(F(),q(C,1,1,(()=>{C=null})),U())},i(t){v||(X(C),v=!0)},o(t){q(C),v=!1},d(t){t&&a(n),y&&y.d(),_.d(),t&&a(b),C&&C.d(t),t&&a(g)}}}function We(t,e,n){let l,o,i;var s,c;let{tab:a}=e;let d,u="Kubernetes",p=!1,f=!1;const m=null===(s=window.configs)||void 0===s?void 0:s.baseConfig;r(t,m,(t=>n(15,i=t)));const h=null===(c=window.configs)||void 0===c?void 0:c.deploymentStore;let b=0;function g(){const t=u;n(1,u="");const e=a;n(0,a=void 0),requestAnimationFrame((()=>{n(1,u=t),n(0,a=e)}))}let $,v,y=[];function w(t,e){n(5,y=[...y,e]);const l=y.length-1;(function(t,e,n){const{mnemonics:l,networkEnv:o,storeSecret:i}=t,r=new ht(0,""),s=new mt(o,l,i,r,void 0,"tfkvstore");return s.connect().then((()=>s[e].delete({name:n})))})(o,t,e).then((t=>{console.log("Removed",t),0===t.deleted.length&&(y.splice(l,1),n(5,y)),g()})).catch((t=>{console.log("Error while removing",t)}))}var k;k=()=>{v=h.subscribe((t=>{g()}))},E().$$.on_mount.push(k),function(t){E().$$.on_destroy.push(t)}((()=>{v()}));return t.$$set=t=>{"tab"in t&&n(0,a=t.tab)},t.$$.update=()=>{32768&t.$$.dirty[0]&&n(7,l=i),49152&t.$$.dirty[0]&&n(8,o=i[b])},[a,u,p,f,d,y,$,l,o,[{label:"Kubernetes"},{label:"Virtual Machines"},{label:"Caprover"}],m,function(){n(3,f=!0),n(2,p=!0),at.init(o).then((t=>{n(4,d=t)})).finally((()=>n(2,p=!1)))},t=>n(14,b=t.target.selectedIndex),w,b,i,()=>n(3,f=!1),t=>n(1,u=t.label),t=>{n(6,$=t.details)},t=>w("k8s",t.name),t=>{n(6,$=t.details)},t=>w("machines",t.name),()=>n(6,$=null)]}customElements.define("tf-deployment-model",se);customElements.define("tf-deployedlist",class extends B{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");.table{width:100%}</style>',nt(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},We,Ge,i,{tab:0},null,[-1,-1]),t&&(t.target&&c(t.target,this,t.anchor),t.props&&(this.$set(t.props),j()))}static get observedAttributes(){return["tab"]}get tab(){return this.$$.ctx[0]}set tab(t){this.$$set({tab:t}),j()}})}();
